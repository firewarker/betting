<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    body {background-color: #14161f}
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #eef2f7; -webkit-text-stroke: #eef2f7}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #eef2f7; -webkit-text-stroke: #eef2f7; min-height: 15.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="it"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;title&gt;BettingPro - AI Betting Intelligence&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;family=JetBrains+Mono:wght@400;500;600&amp;display=swap" rel="stylesheet"&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">  </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;!-- Firebase SDK --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"&gt;&lt;/script&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">  </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>:root {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--bg-dark: #1a1d29;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--bg-card: #22253a;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--bg-card-light: #2a2e45;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--bg-input: #2f3349;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-cyan: #3b82f6;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-blue: #60a5fa;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-green: #10b981;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-yellow: #f59e0b;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-red: #ef4444;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-purple: #8b5cf6;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-gold: #fbbf24;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--accent-emerald: #10b981;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--text-white: #f1f5f9;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--text-gray: #94a3b8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--text-dark: #64748b;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--border: rgba(255,255,255,0.08);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--glow-cyan: 0 0 15px rgba(59, 130, 246, 0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>--glow-gold: 0 0 20px rgba(251, 191, 36, 0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>* { margin: 0; padding: 0; box-sizing: border-box; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'Inter', -apple-system, sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-image: radial-gradient(ellipse at top, rgba(59,130,246,0.08) 0%, transparent 50%),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>radial-gradient(ellipse at bottom right, rgba(16,185,129,0.08) 0%, transparent 50%);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-height: 100vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-bottom: 100px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(34,37,58,0.95);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>backdrop-filter: blur(20px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-bottom: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: sticky;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>z-index: 100;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: 0 4px 6px rgba(0,0,0,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.header-inner {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>max-width: 1400px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin: 0 auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.brand { display: flex; align-items: center; gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.brand-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 40px; height: 40px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.brand-name {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.header-right { display: flex; align-items: center; gap: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.status-bar { display: flex; gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.status-item { display: flex; align-items: center; gap: 6px; font-size: 0.7rem; color: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.status-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.status-dot.online { background: var(--accent-green); box-shadow: 0 0 8px var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.status-dot.loading { background: var(--accent-yellow); animation: blink 1s infinite; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@keyframes blink { 0%,100%{opacity:1} 50%{opacity:.3} }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem; font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-badge:hover { transform: scale(1.05); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.main { max-width: 1400px; margin: 0 auto; padding: 24px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.date-tabs {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.date-tab {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem; font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.date-tab:hover { border-color: var(--accent-cyan); color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.date-tab.active {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(34,211,238,0.2), rgba(59,130,246,0.2));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.panel {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: 0 1px 3px rgba(0,0,0,0.05);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.panel-title { font-size: 1rem; font-weight: 700; margin-bottom: 16px; color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.select-field {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 14px 18px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.95rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.select-field:focus { outline: none; border-color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.matches-list { display: flex; flex-direction: column; gap: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 14px 18px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translateX(4px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item-left { display: flex; align-items: center; gap: 14px; flex: 1; min-width: 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item-time {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 45px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item-teams { font-weight: 600; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-shrink: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.match-item-badge.live { background: var(--accent-red); color: white; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.back-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: inline-flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.back-btn:hover { border-color: var(--accent-cyan); color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.analysis-hero {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(145deg, var(--bg-card), var(--bg-card-light));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 30px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-league { font-size: 0.8rem; color: var(--text-dark); margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-match { display: flex; align-items: center; justify-content: center; gap: 24px; margin-bottom: 20px; flex-wrap: wrap; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-team { display: flex; flex-direction: column; align-items: center; gap: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-team-logo { width: 60px; height: 60px; object-fit: contain; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-team-logo-fallback {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 60px; height: 60px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700; font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-team-name { font-size: 1rem; font-weight: 700; max-width: 120px; text-align: center; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* MG NELL'HERO */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-mg-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-top: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-mg-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(245,158,11,0.15), rgba(16,185,129,0.15));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 120px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-mg-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-mg-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-mg-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-emerald);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-prediction { display: flex; align-items: center; gap: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-score-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 50px; height: 50px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem; font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.hero-vs { padding: 6px 12px; background: var(--accent-blue); border-radius: 6px; font-weight: 700; font-size: 0.8rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.analysis-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.analysis-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.analysis-card.wide { grid-column: 1 / -1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem; font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-title-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 32px; height: 32px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(34,211,238,0.2), rgba(59,130,246,0.2));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-title-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-left: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem; font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--bg-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-row { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-row:last-child { margin-bottom: 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-label { width: 80px; font-size: 0.8rem; color: var(--text-gray); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-bar-track { flex: 1; height: 8px; background: var(--bg-input); border-radius: 4px; overflow: hidden; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-bar-fill { height: 100%; border-radius: 4px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-bar-fill.cyan { background: linear-gradient(90deg, var(--accent-cyan), var(--accent-blue)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-bar-fill.green { background: linear-gradient(90deg, var(--accent-green), #34d399); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-bar-fill.yellow { background: linear-gradient(90deg, var(--accent-yellow), #fcd34d); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-bar-fill.purple { background: linear-gradient(90deg, var(--accent-purple), #c084fc); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prob-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 50px; text-align: right;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem; font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stat-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stat-box-label { font-size: 0.65rem; color: var(--text-dark); margin-bottom: 4px; text-transform: uppercase; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stat-box-value { font-family: 'JetBrains Mono', monospace; font-size: 1.2rem; font-weight: 700; color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stat-box-sub { font-size: 0.6rem; color: var(--text-dark); margin-top: 2px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.scores-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); gap: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.score-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.score-box.highlight { background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.score-box-value { font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; font-weight: 700; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.score-box-prob { font-size: 0.6rem; color: var(--text-dark); margin-top: 2px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.score-box.highlight .score-box-prob { color: rgba(255,255,255,0.8); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* COMBO SUGGERITE */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-panel {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--bg-card), var(--bg-card-light));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-title { font-size: 1.1rem; font-weight: 700; color: var(--accent-purple); margin-bottom: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-card:hover { border-color: var(--accent-purple); transform: translateY(-2px); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-card.selected { border-color: var(--accent-green); background: rgba(16,185,129,0.1); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-value { font-size: 1rem; font-weight: 700; margin-bottom: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-stats { display: flex; justify-content: center; gap: 12px; font-size: 0.75rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-prob { color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.combo-odds { color: var(--accent-green); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* MULTIGOAL GRID */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.multigoal-grid {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.multigoal-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.multigoal-box.best {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(16,185,129,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.multigoal-range {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.multigoal-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.multigoal-quota {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 2px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* TEMPO GOL */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.tempo-highlight {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(59,130,246,0.1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.tempo-highlight strong {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin: 0 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.tempo-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* FORM DISPLAY */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-display {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-team {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-bottom: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-team:last-child { border-bottom: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-team-name {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-string {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-w, .form-d, .form-l {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-w { background: var(--accent-green); color: white; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-d { background: var(--accent-yellow); color: #1a1a2e; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.form-l { background: var(--accent-red); color: white; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* CLASSIFICA E MOTIVAZIONE */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.standings-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.standings-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.standings-position {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.standings-position sup {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge.gold { background: rgba(255,215,0,0.2); color: gold; border: 1px solid gold; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge.cyan { background: rgba(6,182,212,0.2); color: var(--accent-cyan); border: 1px solid var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge.blue { background: rgba(59,130,246,0.2); color: var(--accent-blue); border: 1px solid var(--accent-blue); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge.red { background: rgba(239,68,68,0.2); color: var(--accent-red); border: 1px solid var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge.orange { background: rgba(249,115,22,0.2); color: #f97316; border: 1px solid #f97316; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.motivation-badge.gray { background: rgba(156,163,175,0.2); color: var(--text-dark); border: 1px solid var(--border); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.standings-stats {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.standings-stat {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* INFORTUNATI */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.injuries-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(239,68,68,0.05);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(239,68,68,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.injuries-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.injuries-list {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.injury-chip {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(239,68,68,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(239,68,68,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.no-injuries {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* PANNELLO IMPOSTAZIONI */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-panel {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 320px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 100vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-left: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>z-index: 1000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow-y: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translateX(100%);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: transform 0.3s ease;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-panel.open { transform: translateX(0); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-overlay {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>left: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(0,0,0,0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>z-index: 999;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-overlay.open { display: block; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-bottom: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-bottom: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-close {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-section-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-row {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-input {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 70px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-toggle {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 44px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: background 0.3s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-toggle.active { background: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-toggle::after {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>content: '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 2px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>left: 2px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 50%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: transform 0.3s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-toggle.active::after { transform: translateX(20px); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* STORICO WIN RATE */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-chart {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-bars {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: flex-end;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 80px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-bar {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px 4px 0 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-height: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-bar.won { background: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-bar.lost { background: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-labels {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* WIN RATE PER SEGNO */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-grid {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-item {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-stats {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-won { color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-lost { color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-bar {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-bar-fill {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: width 0.3s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-bar-fill.good { background: linear-gradient(90deg, var(--accent-green), var(--accent-cyan)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-bar-fill.bad { background: linear-gradient(90deg, var(--accent-red), var(--accent-yellow)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-percent {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: right;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-summary {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: repeat(4, 1fr);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-summary-item {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-summary-item span {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 2px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.winrate-summary-item strong {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* SETTINGS BUTTON */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.settings-btn:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(6,182,212,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* MG PROBABILE BOX */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-best-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(59,130,246,0.1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-best-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-best-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-best-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* MG SOTTO RISULTATI ESATTI */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-under-scores {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-top: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-box-compact {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(16,185,129,0.1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-box-compact .mg-box-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-box-compact .mg-box-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.mg-box-compact .mg-box-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-emerald);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* LINEE OVER/UNDER CORNER E CARTELLINI */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-lines {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-row {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 500;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-over, .ou-line-under {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 3px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-left: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-over {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(16,185,129,0.15);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-under {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(239,68,68,0.15);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-over.highlight {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(16,185,129,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ou-line-under.highlight {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(239,68,68,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* PRONOSTICI AI */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.predictions-panel {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--bg-card), var(--bg-card-light));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.predictions-header { text-align: center; margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.predictions-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem; font-weight: 800; margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.predictions-subtitle { font-size: 0.8rem; color: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.predictions-legend { display: flex; justify-content: center; gap: 16px; margin-top: 10px; font-size: 0.7rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.legend-item { display: flex; align-items: center; gap: 4px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.legend-dot { width: 10px; height: 10px; border-radius: 50%; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.legend-dot.high { background: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.legend-dot.mid { background: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.legend-dot.low { background: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.predictions-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-card:hover { border-color: var(--accent-cyan); transform: translateY(-2px); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-card.selected { border-color: var(--accent-green); background: rgba(16,185,129,0.15); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-card.selected::after {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>content: '✓';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 8px; right: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 20px; height: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 50%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem; font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-market { font-size: 0.65rem; color: var(--text-dark); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 6px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-value { font-size: 1.1rem; font-weight: 800; margin-bottom: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: inline-flex; align-items: center; gap: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem; font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-prob.high { background: rgba(16,185,129,0.2); color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-prob.mid { background: rgba(251,191,36,0.2); color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.prediction-prob.low { background: rgba(239,68,68,0.2); color: var(--accent-red); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* HOME SECTIONS - Picks del giorno */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.home-sections { display: flex; flex-direction: column; gap: 20px; margin-bottom: 24px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section::before {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>content: '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0; left: 0; right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 3px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section.raddoppi::before { background: linear-gradient(90deg, var(--accent-green), var(--accent-cyan)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section.gg::before { background: linear-gradient(90deg, var(--accent-yellow), var(--accent-green)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section.over::before { background: linear-gradient(90deg, var(--accent-cyan), var(--accent-blue)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section.pareggi::before { background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue)); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-section.over1t::before { background: linear-gradient(90deg, var(--accent-red), var(--accent-yellow)); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* AI CONSIGLIO */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-advice {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(168,85,247,0.15), rgba(34,211,238,0.15));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-advice::before {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>content: '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0; left: 0; right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(90deg, var(--accent-purple), var(--accent-cyan), var(--accent-green));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 48px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 48px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-purple), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-title-group { flex: 1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-purple), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-subtitle { font-size: 0.75rem; color: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-confidence {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-confidence.high { background: rgba(16,185,129,0.2); color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-confidence.medium { background: rgba(251,191,36,0.2); color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-confidence.low { background: rgba(239,68,68,0.2); color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-pick {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-pick-label { font-size: 0.7rem; color: var(--text-dark); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-pick-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-pick-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reasoning {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reasoning-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-transform: uppercase;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>letter-spacing: 0.5px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reasoning-list { display: flex; flex-direction: column; gap: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reason {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reason-icon { font-size: 1rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reason.positive { color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reason.negative { color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-reason.neutral { color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-alternatives {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-top: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-alt-title { font-size: 0.7rem; color: var(--text-dark); margin-bottom: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-alt-grid { display: flex; gap: 10px; flex-wrap: wrap; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-alt-chip {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-alt-chip:hover { border-color: var(--accent-cyan); color: var(--text-white); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* LIVE BETTING */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-tab {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-red), #ff6b6b) !important;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>animation: livePulse 2s infinite;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-tab.active { box-shadow: 0 0 20px rgba(239,68,68,0.5); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@keyframes livePulse {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>0%, 100% { opacity: 1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>50% { opacity: 0.8; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-badge-count {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 2px 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-left: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(145deg, rgba(239,68,68,0.08), rgba(251,191,36,0.08));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(239,68,68,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-dot {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 50%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>animation: livePulse 1s infinite;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-refresh-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-refresh-btn:hover { border-color: var(--accent-cyan); color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alerts-grid { display: flex; flex-direction: column; gap: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.3s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.3); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.high { border-color: var(--accent-red); border-width: 2px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.medium { border-color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.low { border-color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.high .live-alert-header { background: rgba(239,68,68,0.15); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.medium .live-alert-header { background: rgba(251,191,36,0.15); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.low .live-alert-header { background: rgba(34,211,238,0.15); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-level {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-transform: uppercase;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>letter-spacing: 0.5px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.high .live-alert-level { color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.medium .live-alert-level { color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-card.low .live-alert-level { color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-time {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-body { padding: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-match {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-teams { font-weight: 600; color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-score {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-stats {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-stat {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-stat strong { color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-alert-pick {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(16,185,129,0.15), rgba(34,211,238,0.15));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-pick-label { font-size: 0.7rem; color: var(--text-dark); margin-bottom: 6px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-pick-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-pick-details {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-pick-prob { color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-pick-reason {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-style: italic;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-empty {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 40px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-empty-icon { font-size: 3rem; margin-bottom: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-filters {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-filter-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-filter-btn:hover { border-color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-filter-btn.active { background: var(--accent-cyan); color: var(--bg-dark); border-color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-auto-refresh {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-countdown {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.ai-alt-chip span { color: var(--accent-green); margin-left: 6px; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* DUAL ADVICE LAYOUT */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.dual-advice-container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: 1fr 1fr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media (max-width: 968px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.dual-advice-container { grid-template-columns: 1fr; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* STATISTICAL ADVICE */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.statistical-advice {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(34,211,238,0.15), rgba(16,185,129,0.15));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.statistical-advice::before {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>content: '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0; left: 0; right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(90deg, var(--accent-cyan), var(--accent-green), var(--accent-yellow));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* SMART FILTERS */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.smart-filters-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(145deg, rgba(168,85,247,0.08), rgba(34,211,238,0.08));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(168,85,247,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.smart-filters-section::before {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>content: '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0; left: 0; right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 3px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(90deg, var(--accent-purple), var(--accent-cyan), var(--accent-green));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filters-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filters-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filters-count {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filter-buttons {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filter-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filter-btn:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translateY(-2px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filter-btn.active {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-purple), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: 0 4px 15px rgba(168,85,247,0.4);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-picks {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>max-height: 500px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow-y: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-card:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translateX(4px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-rank {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 28px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 28px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 50%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-shrink: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-left {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-match {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>white-space: nowrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-overflow: ellipsis;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-league {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-right {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-shrink: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-bet {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.filtered-pick-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 55px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: right;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-title { display: flex; align-items: center; gap: 10px; font-size: 1rem; font-weight: 700; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-title-icon { font-size: 1.3rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-count {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 12px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.picks-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 14px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-card:hover { border-color: var(--accent-cyan); transform: translateX(4px); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-card.selected { border-color: var(--accent-green); background: rgba(16,185,129,0.1); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-info { flex: 1; min-width: 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-match { font-size: 0.8rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 4px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-league { font-size: 0.65rem; color: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-bet { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-value { font-weight: 700; color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.pick-prob {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 2px 8px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(16,185,129,0.2);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* RADDOPPI COMBINATI */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppi-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 14px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(145deg, var(--bg-card-light), var(--bg-input));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-card:hover { transform: translateY(-3px); box-shadow: 0 8px 24px rgba(16,185,129,0.2); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--bg-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-odds {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-bets { display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-bet {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-match { font-size: 0.8rem; color: var(--text-gray); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-pick {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 2px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(34,211,238,0.15);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-footer { text-align: center; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.raddoppio-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* MONEY MANAGEMENT */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--bg-card), var(--bg-card-light));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-header { text-align: center; margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-title {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem; font-weight: 800;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-purple), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-subtitle { font-size: 0.8rem; color: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-input-group { display: flex; flex-direction: column; gap: 6px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-label { font-size: 0.75rem; color: var(--text-gray); text-transform: uppercase; letter-spacing: 0.5px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-input {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 14px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-input:focus { outline: none; border-color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat-label { font-size: 0.65rem; color: var(--text-dark); text-transform: uppercase; margin-bottom: 6px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat-value { font-family: 'JetBrains Mono', monospace; font-size: 1.3rem; font-weight: 700; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat-value.green { color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat-value.cyan { color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat-value.yellow { color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-stat-value.purple { color: var(--accent-purple); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-strategy {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 16px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.strategy-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.strategy-btn:hover { border-color: var(--accent-cyan); color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.strategy-btn.active { background: var(--accent-purple); border-color: var(--accent-purple); color: white; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* SISTEMA OBIETTIVO */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.money-grid-4 {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.progress-section { margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.progress-bar-container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 32px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.progress-bar-fill {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0; left: 0; bottom: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(90deg, var(--accent-green), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: width 0.5s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.progress-bar-text {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 50%; left: 50%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translate(-50%, -50%);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-shadow: 0 1px 3px rgba(0,0,0,0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(145deg, rgba(34,211,238,0.1), rgba(59,130,246,0.1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-section.warning { border-color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-section.reached { border-color: var(--accent-green); background: rgba(16,185,129,0.15); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-label { color: var(--text-gray); font-weight: 600; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-remaining { color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-reached {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-value { margin-bottom: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-amount {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 2.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-shadow: 0 0 20px rgba(34,211,238,0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-info { font-size: 0.85rem; color: var(--text-gray); margin-top: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-warning {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-yellow);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(251,191,36,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: inline-block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-preview {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-preview strong { color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-buttons { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 28px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.95rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn.win { background: var(--accent-green); color: white; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn.win:hover { transform: scale(1.05); box-shadow: 0 4px 16px rgba(16,185,129,0.4); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn.loss { background: var(--accent-red); color: white; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn.loss:hover { transform: scale(1.05); box-shadow: 0 4px 16px rgba(239,68,68,0.4); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn.reset { background: var(--bg-card); border: 1px solid var(--border); color: var(--text-gray); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stake-btn.reset:hover { border-color: var(--accent-cyan); color: var(--text-white); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* SCHEDINA FLOATING */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-floating {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>bottom: 0; left: 0; right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(12,18,34,0.98);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>backdrop-filter: blur(20px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-top: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>z-index: 1000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-count {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--accent-cyan);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--bg-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem; font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex; align-items: center; gap: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-btn.primary { background: var(--accent-green); color: white; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-btn.secondary { background: var(--bg-card); border: 1px solid var(--border); color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-btn.danger { background: transparent; border: 1px solid var(--accent-red); color: var(--accent-red); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* SLIP MODAL */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-modal {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>top: 0; left: 0; right: 0; bottom: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(0,0,0,0.8);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>z-index: 2000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-modal-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>max-width: 500px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>max-height: 80vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow-y: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-modal-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-bottom: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-modal-title { font-size: 1.2rem; font-weight: 700; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-modal-close {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 32px; height: 32px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-modal-body { padding: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-item {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-item-info { flex: 1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-item-match { font-size: 0.75rem; color: var(--text-dark); margin-bottom: 4px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-item-bet { font-weight: 700; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-item-prob { font-size: 0.8rem; color: var(--accent-cyan); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-item-remove {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 28px; height: 28px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-total {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-total-label { font-size: 0.8rem; color: var(--text-dark); margin-bottom: 4px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.slip-total-value { font-size: 1.5rem; font-weight: 800; color: var(--accent-green); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.loading { display: flex; flex-direction: column; align-items: center; padding: 40px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.spinner { width: 40px; height: 40px; border: 3px solid var(--border); border-top-color: var(--accent-cyan); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@keyframes spin { to { transform: rotate(360deg); } }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.loading-text { color: var(--text-gray); font-size: 0.9rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.empty { text-align: center; padding: 40px; color: var(--text-dark); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.empty-icon { font-size: 2.5rem; margin-bottom: 12px; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media (max-width: 768px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.main { padding: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.header { padding: 10px 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.brand-name { font-size: 1.1rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.status-bar { font-size: 0.65rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.hero-match { gap: 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.hero-team-logo, .hero-team-logo-fallback { width: 50px; height: 50px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.hero-score-box { width: 40px; height: 40px; font-size: 1.2rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.analysis-grid { grid-template-columns: 1fr; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.predictions-grid { grid-template-columns: repeat(2, 1fr); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.stat-grid { grid-template-columns: repeat(3, 1fr); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.combo-grid { grid-template-columns: repeat(2, 1fr); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.slip-floating { flex-wrap: wrap; gap: 10px; padding: 10px 16px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* TRACKING &amp; STATS */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.track-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.95rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.3s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.track-btn:hover { transform: scale(1.02); box-shadow: 0 4px 15px rgba(16,185,129,0.4); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.track-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.track-btn.tracked { background: var(--text-dark); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(145deg, rgba(168,85,247,0.1), rgba(34,211,238,0.1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(168,85,247,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-overview {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: repeat(4, 1fr);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-card-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-card-value.green { color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-card-value.red { color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-card-value.yellow { color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-card-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-winrate {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-winrate-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-winrate-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-breakdown {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-wr {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-wr.good { background: rgba(16,185,129,0.2); color: var(--accent-green); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-wr.medium { background: rgba(251,191,36,0.2); color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-wr.bad { background: rgba(239,68,68,0.2); color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-row-count {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-toggle-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-toggle-btn:hover { border-color: var(--accent-purple); color: var(--text-white); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.stats-toggle-btn.active { background: var(--accent-purple); color: white; border-color: var(--accent-purple); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-track-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-track-btn:hover { transform: scale(1.02); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.live-track-btn.tracked { background: var(--text-dark); }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* === CONSIGLI SECTION === */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 6px 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-category {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card-light);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-category-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-bottom: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-bottom: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-category-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-category-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.95rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-category-count {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-grid {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-card:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translateX(4px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-rank {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 28px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 28px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-shrink: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-info {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-match {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>white-space: nowrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-overflow: ellipsis;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-league {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-bet {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: right;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-shrink: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consiglio-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-emerald);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.consigli-tab.active {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(245,158,11,0.2), rgba(16,185,129,0.2));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* === TRADER SECTION === */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(245,158,11,0.08), rgba(16,185,129,0.08));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(245,158,11,0.25);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 44px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 44px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.4rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: var(--glow-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-title-text h3 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-title-text p {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-stats {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-stat {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-stat-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-stat-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.6rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-transform: uppercase;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: 1fr 1fr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media (max-width: 768px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.trader-content { grid-template-columns: 1fr; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-box-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-picks {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: all 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: translateX(4px);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick-info {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick-match {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>white-space: nowrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-overflow: ellipsis;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick-league {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick-bet {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: right;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-pick-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-emerald);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-combined {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-combined-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-combined-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-strategy {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>line-height: 1.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-strategy strong {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* === TRADER VERDICT (Analysis Page) === */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.trader-verdict {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(16,185,129,0.1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid rgba(245,158,11,0.3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 48px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 48px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: var(--glow-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-title h3 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-gold), var(--accent-emerald));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-background-clip: text;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>-webkit-text-fill-color: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-title p {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 8px 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-badge.play { background: rgba(34,197,94,0.2); color: #22c55e; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-badge.caution { background: rgba(234,179,8,0.2); color: #eab308; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-badge.avoid { background: rgba(239,68,68,0.2); color: #ef4444; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: 1fr 1fr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media (max-width: 768px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.verdict-content { grid-template-columns: 1fr; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-box-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-main-pick {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-main-pick-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-transform: uppercase;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-main-pick-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 800;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-main-pick-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-emerald);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-stars {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-suggestion {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-input);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-suggestion-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-suggestion-text {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-suggestion-text strong {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-warning {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: flex-start;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(239,68,68,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(239,68,68,0.2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-warning-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-warning-text {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>line-height: 1.4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.verdict-warning-text strong {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* Cache indicator */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.cache-indicator {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: inline-flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 4px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(245,158,11,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-left: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* === STORICO VARIAZIONI PRONOSTICI === */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(59, 130, 246, 0.08));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid rgba(139, 92, 246, 0.25);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-icon {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 44px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 44px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, var(--accent-purple), #3b82f6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-title h3 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-white);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-title p {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-timeline {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-item {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 14px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-item.current {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(245, 158, 11, 0.08);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-item.significant {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-color: var(--accent-yellow);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(251, 191, 36, 0.08);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-time {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>min-width: 50px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-pick {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-pick-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-pick-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 2px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(16, 185, 129, 0.2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-change {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 3px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>white-space: nowrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-change.first { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-change.minor { background: rgba(100, 116, 139, 0.2); color: var(--text-gray); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-change.significant { background: rgba(251, 191, 36, 0.2); color: var(--accent-yellow); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-change.major { background: rgba(239, 68, 68, 0.2); color: var(--accent-red); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-empty {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.85rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-stats {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: repeat(3, 1fr);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-top: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-top: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-stat {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-stat-value {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-purple);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-stat-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.6rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-transform: uppercase;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>/* Box Confronto Prima vs Ora */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: linear-gradient(135deg, rgba(245,158,11,0.15), rgba(16,185,129,0.15));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid rgba(245,158,11,0.4);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 16px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-title {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-grid {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>grid-template-columns: 1fr auto 1fr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>gap: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-box {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: var(--bg-card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-box.first {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 1px solid var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-box.current {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: 2px solid var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.65rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-time {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.7rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-gray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-pick {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 700;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-gold);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-prob {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.9rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-emerald);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-arrow {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--text-dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-arrow.changed {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-arrow.stable {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-verdict {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-verdict.changed {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(239,68,68,0.15);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-red);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-verdict.stable {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: rgba(34,197,94,0.15);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: var(--accent-green);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.history-compare-diff {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: 'JetBrains Mono', monospace;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media (max-width: 600px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.stats-overview { grid-template-columns: repeat(2, 1fr); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.history-stats { grid-template-columns: repeat(2, 1fr); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.history-compare-grid { grid-template-columns: 1fr; gap: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.history-compare-arrow { transform: rotate(90deg); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="app"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// ===================================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// BETTINGPRO v5 - COMPLETO CON SCHEDINA E FIREBASE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// ===================================================</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const CONFIG = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>API_FOOTBALL: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>key: 'aeb2864a3d4dbb8395fa53c83a876a93',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>baseURL: 'https://v3.football.api-sports.io'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>FOOTYSTATS: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>key: 'bec59b6f83404b0bd79c40076be71f6f3abec62afdacf5eeba296f2357993f3e',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>baseURL: 'https://api.footystats.org'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>FIREBASE: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>url: 'https://bettingpro-d0125-default-rtdb.europe-west1.firebasedatabase.app'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Generate unique user ID</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const getUserId = () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let id = localStorage.getItem('bettingpro_uid');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!id) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>id = 'user_' + Math.random().toString(36).substr(2, 9);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem('bettingpro_uid', id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return id;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const USER_ID = getUserId();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === FIREBASE INITIALIZATION ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const firebaseConfig = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>apiKey: "AIzaSyD-D8cbJg8Wo9AUceTVLbLGRw_S9aJXTSw",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>authDomain: "bettingpro2.firebaseapp.com",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>projectId: "bettingpro2",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>storageBucket: "bettingpro2.firebasestorage.app",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>messagingSenderId: "364517114484",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>appId: "1:364517114484:web:807d8891ae2aac2e548721"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let db = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>firebase.initializeApp(firebaseConfig);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>db = firebase.firestore();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('🔥 Firebase initialized');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.warn('⚠️ Firebase init failed:', e.message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let state = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>view: 'leagues',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>selectedDate: 0, // 0=oggi, -1=ieri, 1=domani, 2=dopodomani</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>leagues: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>matches: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>selectedLeague: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>selectedMatch: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>analysis: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>loading: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>api: {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>football: localStorage.getItem('api_football_status') || 'offline',<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>footystats: localStorage.getItem('api_footystats_status') || 'offline'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>fsData: new Map(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>slip: [], // Schedina</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>slipModal: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Picks del giorno</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>dailyPicks: { raddoppi: [], gg: [], over25: [], pareggi: [], over1T: [], vittorieCasa: [], vittorieOspite: [] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Money Management - Sistema Obiettivo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>money: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>bankroll: parseFloat(localStorage.getItem('bp2_bankroll')) || 100,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>target: parseFloat(localStorage.getItem('bp2_target')) || 500,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>totalBets: parseInt(localStorage.getItem('bp2_totalbets')) || 10,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>currentBet: parseInt(localStorage.getItem('bp2_currentbet')) || 1,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>currentOdds: parseFloat(localStorage.getItem('bp2_odds')) || 1.80,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>history: JSON.parse(localStorage.getItem('bp2_history') || '[]')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// LIVE Betting (deprecato - mantengo variabili per compatibilità)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>consigliMode: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveMode: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveMatches: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveAlerts: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveLoading: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveInterval: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveBackgroundInterval: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>countdownInterval: null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>liveCountdown: 60,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Tracking Pronostici</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trackedBets: JSON.parse(localStorage.getItem('bp2_tracked') || '[]'),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NUOVO: Cache Classifica e Infortunati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>standingsCache: new Map(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>injuriesCache: new Map(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NUOVO: Impostazioni soglie configurabili</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>settings: JSON.parse(localStorage.getItem('bp2_settings') || JSON.stringify({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>thresholds: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'1': 50,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'X': 28,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'2': 50,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'GG': 55,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'Over 2.5': 50,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'Over 1.5': 65</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>showInjuries: true,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>showStandings: true,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>autoRefresh: true</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>})),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>settingsOpen: false,</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>smartFilters: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>active: '1',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>results: []</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>statsView: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// TRADER Section</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>traderPicks: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>raddoppio: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>singole: []</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// STORICO VARIAZIONI PRONOSTICI</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>predictionHistory: JSON.parse(localStorage.getItem('bp2_prediction_history') || '{}')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === FUNZIONI STORICO VARIAZIONI ===</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function savePredictionToHistory(matchId, matchName, prediction) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const key = String(matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const now = new Date();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const timestamp = now.toLocaleTimeString('it-IT', {hour:'2-digit', minute:'2-digit'});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fullTimestamp = now.getTime();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!state.predictionHistory[key]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.predictionHistory[key] = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>matchName: matchName,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>date: getDateString(state.selectedDate),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>predictions: []</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const history = state.predictionHistory[key].predictions;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const lastPred = history.length &gt; 0 ? history[history.length - 1] : null;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let changeType = 'first';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (lastPred) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pickChanged = lastPred.pick !== prediction.pick;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const probDiff = Math.abs(prediction.prob - lastPred.prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (pickChanged) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>changeType = 'major';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (probDiff &gt;= 10) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>changeType = 'significant';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (probDiff &gt;= 3) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>changeType = 'minor';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return; // Nessun cambiamento rilevante (&lt; 3%)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>history.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>time: timestamp,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>fullTime: fullTimestamp,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pick: prediction.pick,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>prob: prediction.prob,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>changeType: changeType</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (history.length &gt; 10) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.predictionHistory[key].predictions = history.slice(-10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>savePredictionHistory();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('📜 Storico:', matchName, changeType, prediction.pick, prediction.prob + '%');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function savePredictionHistory() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const twoDaysAgo = new Date();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>twoDaysAgo.setDate(twoDaysAgo.getDate() - 2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const cutoffDate = twoDaysAgo.toISOString().split('T')[0];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Object.keys(state.predictionHistory).forEach(key =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (state.predictionHistory[key].date &lt; cutoffDate) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>delete state.predictionHistory[key];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem('bp2_prediction_history', JSON.stringify(state.predictionHistory));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch(e) { console.warn('Errore salvataggio storico:', e); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getPredictionHistory(matchId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return state.predictionHistory[String(matchId)]?.predictions || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getHistoryStats(matchId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const history = getPredictionHistory(matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (history.length === 0) return null;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>totalChanges: history.length - 1,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>majorChanges: history.filter(h =&gt; h.changeType === 'major').length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>significantChanges: history.filter(h =&gt; h.changeType === 'significant').length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pickChanged: history.length &gt; 1 ? history[0].pick !== history[history.length - 1].pick : false</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderHistorySection(matchId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const history = getPredictionHistory(matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stats = getHistoryStats(matchId);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Caso: Prima analisi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!history || history.length === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return '&lt;div class="history-section"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-header"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="history-icon"&gt;📜&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="history-title"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;h3&gt;Storico Variazioni&lt;/h3&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;p&gt;Traccia le variazioni dei pronostici nel tempo&lt;/p&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-empty"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'📊 &lt;strong&gt;Prima analisi registrata!&lt;/strong&gt;&lt;br&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;span style="font-size:0.75rem;color:var(--text-dark);"&gt;Riapri questa partita tra qualche ora per vedere eventuali variazioni del pronostico.&lt;/span&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Box CONFRONTO PRIMA vs ORA (solo se ci sono almeno 2 registrazioni o 1 con cambio)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let compareHtml = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const first = history[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const last = history[history.length - 1];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (history.length &gt;= 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pickChanged = first.pick !== last.pick;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const probDiff = last.prob - first.prob;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const probDiffAbs = Math.abs(probDiff);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const hasChanges = history.length &gt; 1;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let arrowClass = 'stable';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let verdictClass = 'stable';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let verdictText = '✅ Pronostico stabile - Nessuna variazione rilevata';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (pickChanged) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>arrowClass = 'changed';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>verdictClass = 'changed';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>verdictText = '⚠️ ATTENZIONE: Il pronostico è cambiato!';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (hasChanges &amp;&amp; probDiffAbs &gt;= 10) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>arrowClass = 'changed';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>verdictClass = 'changed';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>verdictText = '⚠️ Variazione significativa della probabilità';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (hasChanges) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>verdictText = '✅ Pronostico confermato con piccole variazioni';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let diffText = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (hasChanges) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (probDiff &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>diffText = '&lt;span style="color:var(--accent-green);"&gt;+' + probDiff.toFixed(0) + '%&lt;/span&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (probDiff &lt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>diffText = '&lt;span style="color:var(--accent-red);"&gt;' + probDiff.toFixed(0) + '%&lt;/span&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>diffText = '&lt;span style="color:var(--text-gray);"&gt;±0%&lt;/span&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>compareHtml = '&lt;div class="history-compare"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-compare-title"&gt;📊 CONFRONTO PRONOSTICI&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-compare-grid"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="history-compare-box first"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-label"&gt;PRIMA ANALISI&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-time"&gt;🕐 ' + first.time + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-pick"&gt;' + first.pick + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-prob"&gt;' + first.prob.toFixed(0) + '%&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="history-compare-arrow ' + arrowClass + '"&gt;' + (hasChanges ? '→' : '•') + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="history-compare-box current"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-label"&gt;ORA&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-time"&gt;🕐 ' + last.time + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-pick"&gt;' + last.pick + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="history-compare-prob"&gt;' + last.prob.toFixed(0) + '%&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-compare-verdict ' + verdictClass + '"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>verdictText +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>(hasChanges ? '&lt;div class="history-compare-diff"&gt;Differenza: ' + diffText + '&lt;/div&gt;' : '') +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Timeline dettagliata (solo se più di 1 registrazione)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let historyHtml = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (history.length &gt; 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>historyHtml = '&lt;div style="font-size:0.75rem;color:var(--text-dark);margin-bottom:10px;font-weight:600;"&gt;📜 CRONOLOGIA COMPLETA&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>history.forEach(function(item, index) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const isLast = index === history.length - 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const isFirst = index === 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const itemClass = isLast ? 'current' : (item.changeType === 'major' || item.changeType === 'significant' ? 'significant' : '');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let changeLabel = '', changeClass = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (item.changeType === 'first') { changeLabel = '1° ANALISI'; changeClass = 'first'; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (item.changeType === 'minor') { changeLabel = '↕ ±3-9%'; changeClass = 'minor'; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (item.changeType === 'significant') { changeLabel = '⚠️ ±10%+'; changeClass = 'significant'; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (item.changeType === 'major') { changeLabel = '🔄 CAMBIO!'; changeClass = 'major'; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>historyHtml += '&lt;div class="history-item ' + itemClass + '"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;span class="history-time"&gt;🕐 ' + item.time + '&lt;/span&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="history-pick"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;span class="history-pick-value"&gt;' + item.pick + '&lt;/span&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;span class="history-pick-prob"&gt;' + item.prob.toFixed(0) + '%&lt;/span&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;span class="history-change ' + changeClass + '"&gt;' + changeLabel + '&lt;/span&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Statistiche</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let statsHtml = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (stats &amp;&amp; stats.totalChanges &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>statsHtml = '&lt;div class="history-stats"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-stat"&gt;&lt;div class="history-stat-value"&gt;' + stats.totalChanges + '&lt;/div&gt;&lt;div class="history-stat-label"&gt;Variazioni&lt;/div&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-stat"&gt;&lt;div class="history-stat-value"&gt;' + stats.majorChanges + '&lt;/div&gt;&lt;div class="history-stat-label"&gt;Cambi Pick&lt;/div&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-stat"&gt;&lt;div class="history-stat-value"&gt;' + (stats.pickChanged ? '⚠️' : '✅') + '&lt;/div&gt;&lt;div class="history-stat-label"&gt;' + (stats.pickChanged ? 'Cambiato' : 'Stabile') + '&lt;/div&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return '&lt;div class="history-section"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;div class="history-header"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-icon"&gt;📜&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="history-title"&gt;&lt;h3&gt;Storico Variazioni&lt;/h3&gt;&lt;p&gt;Monitora i cambiamenti del pronostico&lt;/p&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>compareHtml +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>(history.length &gt; 1 ? '&lt;div class="history-timeline"&gt;' + historyHtml + '&lt;/div&gt;' : '') +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>statsHtml +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === UTILITIES ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const esc = t =&gt; String(t || '').replace(/[&amp;&lt;&gt;"']/g, c =&gt; ({'&amp;':'&amp;amp;','&lt;':'&amp;lt;','&gt;':'&amp;gt;','"':'&amp;quot;',"'":'&amp;#039;'}[c]));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const clamp = (min, v, max) =&gt; Math.max(min, Math.min(max, v));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const formatTime = d =&gt; d ? new Date(d).toLocaleTimeString('it-IT', {hour:'2-digit', minute:'2-digit'}) : '--:--';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const formatDate = d =&gt; d ? new Date(d).toLocaleDateString('it-IT', {day:'2-digit', month:'2-digit'}) : '--/--';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const formatDateFull = d =&gt; d ? new Date(d).toLocaleDateString('it-IT', {weekday:'short', day:'2-digit', month:'short'}) : '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const getInitials = n =&gt; n ? n.split(' ').map(w =&gt; w[0]).join('').slice(0,3).toUpperCase() : '??';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getDateString(offset = 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const d = new Date();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>d.setDate(d.getDate() + offset);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return d.toISOString().split('T')[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getDateLabel(offset) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (offset === -1) return 'Ieri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (offset === 0) return 'Oggi';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (offset === 1) return 'Domani';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (offset === 2) return 'Dopodomani';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Poisson</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const factorial = n =&gt; { let r = 1; for (let i = 2; i &lt;= n; i++) r *= i; return r; };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const poisson = (l, k) =&gt; l &lt;= 0 ? (k === 0 ? 1 : 0) : (Math.pow(l, k) * Math.exp(-l)) / factorial(k);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === SMART FILTERS - Filtri intelligenti con prob combinata AI + Statistica ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateSmartFilters(filterType) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.matches.length === 0) return [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const results = [];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.matches.forEach(match =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (['1H','2H','HT','ET','P','LIVE','FT','AET','PEN'].includes(match.status)) return;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// xG variabili basati su campionato (stima)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let homeXG = 1.50, awayXG = 1.15;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Boost per campionati offensivi noti</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const offensiveLeagues = [39, 140, 135, 78, 61, 88, 94]; // PL, LaLiga, SerieA, Bundesliga, L1, Eredivisie, Primeira</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (offensiveLeagues.includes(match.league.id)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>homeXG = 1.60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>awayXG = 1.25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// FootyStats data</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsKeys = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`${match.home.name.toLowerCase()}${match.away.name.toLowerCase()}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`${match.home.name.toLowerCase().replace(/\s/g, '')}${match.away.name.toLowerCase().replace(/\s/g, '')}`</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let fsMatch = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (const k of fsKeys) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (state.fsData.has(k)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>fsMatch = state.fsData.get(k);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.homexg) homeXG = fsMatch.homexg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (fsMatch.homeppg) homeXG = fsMatch.homeppg * 0.85;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (fsMatch.avggoalshome) homeXG = fsMatch.avggoalshome;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.awayxg) awayXG = fsMatch.awayxg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (fsMatch.awayppg) awayXG = fsMatch.awayppg * 0.75;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (fsMatch.avggoalsaway) awayXG = fsMatch.avggoalsaway;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Home advantage</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG *= 1.12;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG *= 0.92;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG = clamp(0.4, homeXG, 3.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG = clamp(0.25, awayXG, 3.0);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const p1X2 = quickCalc1X2(homeXG, awayXG);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pGG = quickCalcBTTS(homeXG, awayXG);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pNG = 100 - pGG; // No Goal = 100% - GG</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver15 = quickCalcOver(homeXG, awayXG, 1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver25 = quickCalcOver(homeXG, awayXG, 2.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pUnder25 = 100 - pOver25; // Under = 100% - Over</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let prob = 0, pick = '';</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (filterType === '1') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = p1X2.home;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = '1';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === 'X') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = p1X2.draw;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = 'X';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === '2') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = p1X2.away;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = '2';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === 'GG') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = pGG;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = 'GG';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === 'NG') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = pNG;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = 'NG';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === 'Over 2.5') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = pOver25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = 'O 2.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === 'Under 2.5') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = pUnder25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = 'U 2.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (filterType === 'Over 1.5') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = pOver15;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick = 'O 1.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Aggiungi TUTTE le partite (nessuna soglia)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>results.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>match,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob: prob.toFixed(1),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>time: formatTime(match.date),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>league: `${match.league.country} - ${match.league.name}`</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina per probabilità decrescente e prendi le prime 40</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return results.sort((a, b) =&gt; parseFloat(b.prob) - parseFloat(a.prob)).slice(0, 40);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function setSmartFilter(type) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.smartFilters.active = type;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.smartFilters.results = calculateSmartFilters(type);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Seleziona una partita dal filtro e avvia l'analisi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function selectMatch(matchId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const match = state.matches.find(m =&gt; m.id === matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (match) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>analyzeMatch(match);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Partita non trovata:', matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === DAILY PICKS - Analisi rapida di tutte le partite ===</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Campionati TOP con dati affidabili (IDs API-Football)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const TOP_LEAGUES = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Italia</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>135, 136, // Serie A, Serie B</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Inghilterra</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>39, 40, 41, // Premier, Championship, League One</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Spagna</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>140, 141, // La Liga, Segunda</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Germania</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>78, 79, // Bundesliga, 2. Bundesliga</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Francia</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>61, 62, // Ligue 1, Ligue 2</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Altri top</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>88,<span class="Apple-converted-space">  </span>// Eredivisie (Olanda)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>94,<span class="Apple-converted-space">  </span>// Primeira Liga (Portogallo)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>144, // Jupiler Pro (Belgio)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>203, // Super Lig (Turchia)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Coppe europee</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>2, 3, 848, // Champions, Europa League, Conference</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateDailyPicks() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.matches.length === 0) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const picks = { raddoppi: [], gg: [], over25: [], pareggi: [], over1T: [], vittorieCasa: [], vittorieOspite: [] };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const safeBets = []; // Per costruire i raddoppi</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Raccogli i consigli AI per tutte le partite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const allAdvices = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.matches.forEach(match =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Skip partite già iniziate o finite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (['1H','2H','HT','ET','P','LIVE','FT','AET','PEN'].includes(match.status)) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Calcolo rapido basato su FootyStats se disponibile</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let fsMatch = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsKeys = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`${match.home.name.toLowerCase()}_${match.away.name.toLowerCase()}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>match.home.name.toLowerCase().replace(/\s+/g, '') + '_' + match.away.name.toLowerCase().replace(/\s+/g, '')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (const k of fsKeys) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (state.fsData.has(k)) { fsMatch = state.fsData.get(k); break; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Stima xG base</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let homeXG = 1.55, awayXG = 1.25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let homeFormMultiplier = 1.0, awayFormMultiplier = 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let dataQuality = 'low'; // low, medium, high</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.home_xg) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>homeXG = fsMatch.home_xg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>dataQuality = 'high';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (fsMatch.home_ppg) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>homeXG = fsMatch.home_ppg * 0.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>dataQuality = 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (fsMatch.avg_goals_home) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>homeXG = fsMatch.avg_goals_home;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>dataQuality = 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.away_xg) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>awayXG = fsMatch.away_xg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (fsMatch.away_ppg) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>awayXG = fsMatch.away_ppg * 0.7;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (fsMatch.avg_goals_away) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>awayXG = fsMatch.avg_goals_away;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// PATTERN CASA/TRASFERTA AVANZATO</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Analizza performance specifica casa vs trasferta</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.home_ppg &amp;&amp; fsMatch.away_ppg) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Se casa ha ppg alto in casa → boost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (fsMatch.home_ppg &gt;= 2.0) homeFormMultiplier = 1.12;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>else if (fsMatch.home_ppg &gt;= 1.5) homeFormMultiplier = 1.06;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>else if (fsMatch.home_ppg &lt;= 0.8) homeFormMultiplier = 0.90;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Se ospite ha ppg alto in trasferta → boost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (fsMatch.away_ppg &gt;= 1.8) awayFormMultiplier = 1.10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>else if (fsMatch.away_ppg &gt;= 1.2) awayFormMultiplier = 1.04;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>else if (fsMatch.away_ppg &lt;= 0.6) awayFormMultiplier = 0.88;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Applica moltiplicatori forma</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG *= homeFormMultiplier;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG *= awayFormMultiplier;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Home advantage (casa gioca meglio, trasferta peggio)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG *= 1.10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG *= 0.93;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG = clamp(0.3, homeXG, 3.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG = clamp(0.2, awayXG, 3.0);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const totXG = homeXG + awayXG;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Calcola probabilità</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const p1X2 = quickCalc1X2(homeXG, awayXG);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver15 = quickCalcOver(homeXG, awayXG, 1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver25 = quickCalcOver(homeXG, awayXG, 2.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver35 = quickCalcOver(homeXG, awayXG, 3.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pUnder25 = 100 - pOver25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pBTTS = quickCalcBTTS(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const matchInfo = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>match,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>matchName: `${match.home.name} vs ${match.away.name}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>shortName: `${match.home.name.substring(0,12)} - ${match.away.name.substring(0,12)}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>league: `${match.league.country} - ${match.league.name}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>time: formatTime(match.date),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xgTotal: totXG.toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>homeXG: homeXG.toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>awayXG: awayXG.toFixed(2)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// === GENERA CONSIGLIO AI RAPIDO (simile a generateAIAdvice) ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeStrong = homeXG &gt; 1.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayWeak = awayXG &lt; 0.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayStrong = awayXG &gt; 1.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeWeak = homeXG &lt; 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const highScoring = totXG &gt;= 3.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const veryHighScoring = totXG &gt;= 3.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const lowScoring = totXG &lt; 2.2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const balanced = Math.abs(homeXG - awayXG) &lt; 0.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const ggLikely = pBTTS &gt;= 55 &amp;&amp; homeXG &gt; 0.9 &amp;&amp; awayXG &gt; 0.9;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Multigoal per squadra (per calcolo X intelligente)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const mgHome = quickCalcOver(homeXG, 0, 0.5); // Prob che casa segni almeno 1</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const mgAway = quickCalcOver(awayXG, 0, 0.5); // Prob che ospite segni almeno 1</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let aiPick = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let aiProb = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let confidence = 'low';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Logica di selezione (come generateAIAdvice) con soglie più alte</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (homeStrong &amp;&amp; awayWeak &amp;&amp; p1X2.home &gt;= 68) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = '1 (Vittoria Casa)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = p1X2.home;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = p1X2.home &gt;= 75 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (awayStrong &amp;&amp; homeWeak &amp;&amp; p1X2.away &gt;= 63) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = '2 (Vittoria Ospite)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = p1X2.away;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = p1X2.away &gt;= 70 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (veryHighScoring &amp;&amp; pOver25 &gt;= 72) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = 'Over 2.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = pOver25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = pOver25 &gt;= 80 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (ggLikely &amp;&amp; pBTTS &gt;= 63) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = 'GG (Entrambe Segnano)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = pBTTS;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = pBTTS &gt;= 72 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (pOver15 &gt;= 82) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = 'Over 1.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = pOver15;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = pOver15 &gt;= 88 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if ((p1X2.home + p1X2.draw) &gt;= 82) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = '1X (Casa o Pareggio)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = p1X2.home + p1X2.draw;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = aiProb &gt;= 88 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// CALCOLO INTELLIGENTE PER X</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Se % X è alta, MG squadre basse, Under alto → potrebbe essere X</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (balanced &amp;&amp; p1X2.draw &gt;= 30 &amp;&amp; mgHome &lt; 68 &amp;&amp; mgAway &lt; 68 &amp;&amp; pUnder25 &gt;= 58) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = 'X (Pareggio)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = p1X2.draw;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = p1X2.draw &gt;= 35 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (pOver15 &gt;= 75) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick = 'Over 1.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb = pOver15;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence = 'low';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// CALCOLO CONFIDENCE FINALE basato su qualità dati + probabilità</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (dataQuality === 'high' &amp;&amp; aiProb &gt;= 75) confidence = 'high';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (dataQuality === 'high' &amp;&amp; aiProb &gt;= 65) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (confidence === 'low') confidence = 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (dataQuality === 'low' &amp;&amp; confidence === 'high') confidence = 'medium';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Skip pick se probabilità troppo bassa o confidence troppo bassa</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (!aiPick || aiProb &lt; 58 || confidence === 'low') return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Salva il consiglio AI</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>allAdvices.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>...matchInfo,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiPick,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>aiProb,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>confidence,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>dataQuality,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>p1X2,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pOver25,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pBTTS</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// === COSTRUISCI RADDOPPI (solo campionati top) ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const isTopLeague = TOP_LEAGUES.includes(match.league.id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isTopLeague) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const p1X = p1X2.home + p1X2.draw;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const pX2 = p1X2.draw + p1X2.away;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (p1X &gt;= 72) safeBets.push({ ...matchInfo, bet: '1X', prob: p1X, odds: (100 / p1X).toFixed(2) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (pX2 &gt;= 72) safeBets.push({ ...matchInfo, bet: 'X2', prob: pX2, odds: (100 / pX2).toFixed(2) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (pOver15 &gt;= 75) safeBets.push({ ...matchInfo, bet: 'Over 1.5', prob: pOver15, odds: (100 / pOver15).toFixed(2) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (p1X2.home &gt;= 65) safeBets.push({ ...matchInfo, bet: '1', prob: p1X2.home, odds: (100 / p1X2.home).toFixed(2) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (p1X2.away &gt;= 60) safeBets.push({ ...matchInfo, bet: '2', prob: p1X2.away, odds: (100 / p1X2.away).toFixed(2) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === RAGGRUPPA I CONSIGLI AI PER TIPO ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>allAdvices.forEach(advice =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (advice.aiPick.includes('1 (Vittoria Casa)')) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>picks.vittorieCasa.push({ ...advice, bet: '1', prob: advice.aiProb });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (advice.aiPick.includes('2 (Vittoria Ospite)')) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>picks.vittorieOspite.push({ ...advice, bet: '2', prob: advice.aiProb });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (advice.aiPick.includes('GG')) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>picks.gg.push({ ...advice, bet: 'GG', prob: advice.aiProb });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (advice.aiPick.includes('Over 2.5')) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>picks.over25.push({ ...advice, bet: 'Over 2.5', prob: advice.aiProb });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (advice.aiPick.includes('X (Pareggio)')) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>picks.pareggi.push({ ...advice, bet: 'X', prob: advice.aiProb });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === ORDINA E PRENDI I TOP 20 PER OGNI CATEGORIA ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina per confidence (high &gt; medium) e poi per probabilità</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const sortByConfidence = (a, b) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const confScore = { high: 3, medium: 2, low: 1 };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (confScore[a.confidence] !== confScore[b.confidence]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return confScore[b.confidence] - confScore[a.confidence];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return b.prob - a.prob;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.gg = picks.gg.sort(sortByConfidence).slice(0, 20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.over25 = picks.over25.sort(sortByConfidence).slice(0, 20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.vittorieCasa = picks.vittorieCasa.sort(sortByConfidence).slice(0, 20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.vittorieOspite = picks.vittorieOspite.sort(sortByConfidence).slice(0, 20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.pareggi = picks.pareggi.sort(sortByConfidence).slice(0, 20);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === COSTRUISCI RADDOPPI ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.raddoppi = buildRaddoppi(safeBets);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.dailyPicks = picks;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('🎯 Daily picks (AI):', Object.keys(picks).map(k =&gt; `${k}: ${picks[k].length}`).join(', '));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Costruisce combinazioni per raddoppi (quota target ~2.00)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function buildRaddoppi(safeBets) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (safeBets.length &lt; 2) return [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const raddoppi = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const targetOdds = 2.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const tolerance = 0.25; // quota tra 1.75 e 2.25</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina per probabilità decrescente</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>safeBets.sort((a, b) =&gt; b.prob - a.prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Prova combinazioni di 2, 3, 4 partite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let size = 2; size &lt;= Math.min(4, safeBets.length); size++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const combos = getCombinations(safeBets, size);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (const combo of combos) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Verifica che non ci siano partite duplicate</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const matchIds = combo.map(c =&gt; c.match.id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (new Set(matchIds).size !== matchIds.length) continue;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Calcola quota totale e probabilità combinata</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const totalOdds = combo.reduce((acc, c) =&gt; acc * parseFloat(c.odds), 1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const totalProb = combo.reduce((acc, c) =&gt; acc * (c.prob / 100), 1) * 100;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Se la quota è vicina a 2.00</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (totalOdds &gt;= targetOdds - tolerance &amp;&amp; totalOdds &lt;= targetOdds + tolerance) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>raddoppi.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>bets: combo,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>totalOdds: totalOdds.toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>totalProb: totalProb.toFixed(1),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>size: combo.length</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina per probabilità combinata e prendi i migliori 6</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return raddoppi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; parseFloat(b.totalProb) - parseFloat(a.totalProb))</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.slice(0, 6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Genera combinazioni di k elementi da un array</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getCombinations(arr, k) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (k === 1) return arr.map(x =&gt; [x]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (k === arr.length) return [arr];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (k &gt; arr.length) return [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const result = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const n = arr.length;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Limita per performance</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const maxCombos = 500;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let count = 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function combine(start, combo) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (count &gt;= maxCombos) return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (combo.length === k) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>result.push([...combo]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>count++;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let i = start; i &lt; n &amp;&amp; count &lt; maxCombos; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>combo.push(arr[i]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>combine(i + 1, combo);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>combo.pop();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>combine(0, []);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return result;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcoli rapidi per picks (senza Dixon-Coles per velocità)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function quickCalc1X2(lH, lA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let pH = 0, pD = 0, pA = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 0; i &lt;= 5; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let j = 0; j &lt;= 5; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const p = poisson(lH, i) * poisson(lA, j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i &gt; j) pH += p; else if (i === j) pD += p; else pA += p;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const t = pH + pD + pA;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { home: (pH/t)*100, draw: (pD/t)*100, away: (pA/t)*100 };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function quickCalcOver(lH, lA, line) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let pUnder = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 0; i &lt;= 5; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let j = 0; j &lt;= 5; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i + j &lt;= Math.floor(line)) pUnder += poisson(lH, i) * poisson(lA, j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return clamp(10, (1 - pUnder) * 100, 90);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function quickCalcBTTS(lH, lA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return clamp(15, (1 - poisson(lH, 0)) * (1 - poisson(lA, 0)) * 100, 85);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === TRADER PICKS ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola i migliori picks per il trader con strategia</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateTraderPicks() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.matches.length === 0) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const MIN_PROB_RADDOPPIO = 72;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const MIN_PROB_SINGOLA = 60;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const raddoppioPicks = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const singolePicks = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Win rate storici dai tuoi dati (per warning)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const HISTORICAL_WINRATES = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'Under': 100, 'GG': 100, '1': 91.7, '2': 88.9, '1X': 88.9, 'X': 88.9,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'Over 1.5': 80, 'Over 2.5': 69</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.matches.forEach(match =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (['1H','2H','HT','ET','P','LIVE','FT','AET','PEN'].includes(match.status)) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Stima xG - aumentati per generare picks</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let homeXG = 1.55, awayXG = 1.25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsKey = `${match.home.name.toLowerCase()}_${match.away.name.toLowerCase()}`.replace(/\s+/g, '');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsMatch = state.fsData.get(fsKey);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.home_xg &gt; 0) homeXG = fsMatch.home_xg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (fsMatch.home_ppg &gt; 0) homeXG = fsMatch.home_ppg * 0.85;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (fsMatch.away_xg &gt; 0) awayXG = fsMatch.away_xg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (fsMatch.away_ppg &gt; 0) awayXG = fsMatch.away_ppg * 0.75;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG *= 1.10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG *= 0.92;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG = clamp(0.4, homeXG, 3.2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG = clamp(0.25, awayXG, 2.8);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const p1X2 = quickCalc1X2(homeXG, awayXG);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver15 = quickCalcOver(homeXG, awayXG, 1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pOver25 = quickCalcOver(homeXG, awayXG, 2.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pUnder25 = 100 - pOver25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pBTTS = quickCalcBTTS(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Trova il miglior pronostico</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const bets = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: '1', value: '1 Casa', prob: p1X2.home, winRate: HISTORICAL_WINRATES['1'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: '1X', value: '1X', prob: p1X2.home + p1X2.draw, winRate: HISTORICAL_WINRATES['1X'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: 'X2', value: 'X2', prob: p1X2.draw + p1X2.away, winRate: HISTORICAL_WINRATES['X'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: '2', value: '2 Ospite', prob: p1X2.away, winRate: HISTORICAL_WINRATES['2'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: 'Over 1.5', value: 'Over 1.5', prob: pOver15, winRate: HISTORICAL_WINRATES['Over 1.5'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: 'Under 2.5', value: 'Under 2.5', prob: pUnder25, winRate: HISTORICAL_WINRATES['Under'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: 'GG', value: 'GG', prob: pBTTS, winRate: HISTORICAL_WINRATES['GG'] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>{ market: 'NG', value: 'No Gol', prob: 100 - pBTTS, winRate: 100 - HISTORICAL_WINRATES['GG'] }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const bestBet = bets.reduce((best, b) =&gt; b.prob &gt; best.prob ? b : best, bets[0]);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pick = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>match,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>bet: bestBet,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xG: { home: homeXG, away: awayXG, total: homeXG + awayXG },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>time: formatTime(match.date),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>league: `${match.league.country} - ${match.league.name}`</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (bestBet.prob &gt;= MIN_PROB_RADDOPPIO) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>raddoppioPicks.push(pick);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (bestBet.prob &gt;= MIN_PROB_SINGOLA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>singolePicks.push(pick);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina e seleziona i migliori</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.traderPicks.raddoppio = raddoppioPicks.sort((a, b) =&gt; b.bet.prob - a.bet.prob).slice(0, 4);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.traderPicks.singole = singolePicks.sort((a, b) =&gt; b.bet.prob - a.bet.prob).slice(0, 6);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('💰 Trader picks:',<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>`Raddoppio: ${state.traderPicks.raddoppio.length}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>`Singole: ${state.traderPicks.singole.length}`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === MONEY MANAGEMENT ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === MONEY MANAGEMENT - SISTEMA OBIETTIVO ===</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveMoney() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_bankroll', state.money.bankroll);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_target', state.money.target);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_totalbets', state.money.totalBets);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_currentbet', state.money.currentBet);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_odds', state.money.currentOdds);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_history', JSON.stringify(state.money.history.slice(-30)));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola quanto puntare per raggiungere l'obiettivo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateStake() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const { bankroll, target, totalBets, currentBet, currentOdds } = state.money;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const remainingBets = totalBets - currentBet + 1;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (remainingBets &lt;= 0 || bankroll &lt;= 0 || currentOdds &lt;= 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return { stake: 0, error: 'Parametri non validi' };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bankroll &gt;= target) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return { stake: 0, reached: true };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola il moltiplicatore necessario per giocata</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totalMultiplier = target / bankroll;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const perBetMultiplier = Math.pow(totalMultiplier, 1 / remainingBets);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola la puntata necessaria</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Se vinco: bankroll + stake × (odds - 1) = bankroll × perBetMultiplier</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stake = bankroll * (perBetMultiplier - 1) / (currentOdds - 1);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Limiti di sicurezza</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (stake &gt; bankroll * 0.95) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return { stake: Math.round(bankroll * 0.95 * 100) / 100, warning: '⚠️ Rischio MOLTO alto!' };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (stake &lt; 0.5) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return { stake: 0.5, warning: 'Puntata minima €0.50' };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>stake: Math.round(stake * 100) / 100,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>perBetMultiplier: perBetMultiplier.toFixed(3),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>potentialWin: Math.round(stake * (currentOdds - 1) * 100) / 100,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>newBankroll: Math.round((bankroll + stake * (currentOdds - 1)) * 100) / 100</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function recordBetResult(won) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const calc = calculateStake();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stake = calc.stake || 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.money.history.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>bet: state.money.currentBet,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>date: new Date().toLocaleTimeString('it-IT', {hour:'2-digit', minute:'2-digit'}),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>odds: state.money.currentOdds,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>stake: stake,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>won: won,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>bankrollBefore: state.money.bankroll</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (won) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.money.bankroll += stake * (state.money.currentOdds - 1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.money.bankroll -= stake;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.money.bankroll = Math.max(0, Math.round(state.money.bankroll * 100) / 100);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.money.currentBet++;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveMoney();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function resetMoney() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.money.currentBet = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.money.history = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveMoney();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getMoneyStats() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const { bankroll, target, totalBets, currentBet, currentOdds, history } = state.money;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const calc = calculateStake();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const wins = history.filter(h =&gt; h.won).length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const losses = history.filter(h =&gt; !h.won).length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const progress = Math.min(100, (bankroll / target) * 100);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>bankroll,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>target,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>totalBets,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>currentBet,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>currentOdds,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>remainingBets: Math.max(0, totalBets - currentBet + 1),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>progress,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>stake: calc.stake || 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>warning: calc.warning,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>error: calc.error,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>reached: calc.reached,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>potentialWin: calc.potentialWin || 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>newBankroll: calc.newBankroll || bankroll,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>perBetMultiplier: calc.perBetMultiplier || '-',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>wins,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>losses,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>winRate: (wins + losses) &gt; 0 ? ((wins / (wins + losses)) * 100).toFixed(0) : '-'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === FIREBASE SCHEDINA ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function loadSlipFromFirebase() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const res = await fetch(`${CONFIG.FIREBASE.url}/slips2/${USER_ID}.json`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await res.json();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (data &amp;&amp; Array.isArray(data.items)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.slip = data.items;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>console.log('📋 Schedina caricata:', state.slip.length, 'pronostici');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Firebase load error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function saveSlipToFirebase() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>await fetch(`${CONFIG.FIREBASE.url}/slips2/${USER_ID}.json`, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>method: 'PUT',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>body: JSON.stringify({ items: state.slip, updated: Date.now() })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.log('💾 Schedina salvata');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Firebase save error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function addToSlip(match, market, value, prob) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const key = `${match.id}_${market}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const exists = state.slip.find(s =&gt; s.key === key);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (exists) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.slip = state.slip.filter(s =&gt; s.key !== key);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.slip.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>key,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>matchId: match.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>matchName: `${match.home.name} vs ${match.away.name}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>matchDate: match.date,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>market,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>value,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveSlipToFirebase();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function removeFromSlip(key) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.slip = state.slip.filter(s =&gt; s.key !== key);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveSlipToFirebase();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function clearSlip() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.slip = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveSlipToFirebase();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function isInSlip(matchId, market) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return state.slip.some(s =&gt; s.key === `${matchId}_${market}`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === API STATUS CHECK ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function checkAPIStatus() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('🔍 Controllo stato API...');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Helper per fetch con timeout</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fetchWithTimeout = async (url, options = {}, timeout = 5000) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const controller = new AbortController();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const timeoutId = setTimeout(() =&gt; controller.abort(), timeout);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const res = await fetch(url, { ...options, signal: controller.signal });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>clearTimeout(timeoutId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return res;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>clearTimeout(timeoutId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>throw e;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Check API-Football</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const testUrl = `${CONFIG.API_FOOTBALL.baseURL}/status`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const res = await fetchWithTimeout(testUrl, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>headers: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'x-rapidapi-key': CONFIG.API_FOOTBALL.key,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'x-rapidapi-host': 'v3.football.api-sports.io'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}, 8000);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (res.ok) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.api.football = 'online';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>localStorage.setItem('api_football_status', 'online');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>console.log('✅ API-Football: ONLINE');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>throw new Error('API-Football non disponibile');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.api.football = 'offline';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem('api_football_status', 'offline');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('❌ API-Football: OFFLINE', e.message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Check FootyStats</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Prova prima senza proxy</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const testUrl = `${CONFIG.FOOTYSTATS.baseURL}/test?key=${CONFIG.FOOTYSTATS.key}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const directRes = await fetchWithTimeout(testUrl, {}, 3000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (directRes.ok || directRes.status === 404) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>state.api.footystats = 'online';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>localStorage.setItem('api_footystats_status', 'online');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>console.log('✅ FootyStats: ONLINE (direct)');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Ignora errori CORS, proviamo con i proxy</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const testUrl = `${CONFIG.FOOTYSTATS.baseURL}/test?key=${CONFIG.FOOTYSTATS.key}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const proxies = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://api.allorigins.win/raw?url=',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://corsproxy.io/?',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://api.codetabs.com/v1/proxy?quest=',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://cors-anywhere.herokuapp.com/',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://thingproxy.freeboard.io/fetch/'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (const proxy of proxies) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const proxyUrl = proxy + encodeURIComponent(testUrl);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const res = await fetchWithTimeout(proxyUrl, {}, 5000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (res.ok || res.status === 404) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>state.api.footystats = 'online';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>localStorage.setItem('api_footystats_status', 'online');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>console.log(`✅ FootyStats: ONLINE (proxy: ${proxy})`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>continue;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>throw new Error('FootyStats non disponibile con nessun proxy');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.api.footystats = 'offline';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem('api_footystats_status', 'offline');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('❌ FootyStats: OFFLINE', e.message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === CACHING SYSTEM ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const CACHE_DURATIONS = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>fixtures: 6 * 60 * 60 * 1000,<span class="Apple-converted-space">      </span>// 6 ore</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>statistics: 24 * 60 * 60 * 1000, <span class="Apple-converted-space">  </span>// 24 ore</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>standings: 24 * 60 * 60 * 1000,<span class="Apple-converted-space">    </span>// 24 ore</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>h2h: 30 * 24 * 60 * 60 * 1000, <span class="Apple-converted-space">    </span>// 30 giorni</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>injuries: 12 * 60 * 60 * 1000, <span class="Apple-converted-space">    </span>// 12 ore</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>footystats: 6 * 60 * 60 * 1000 <span class="Apple-converted-space">    </span>// 6 ore</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getCacheKey(source, endpoint, params) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const sortedParams = Object.keys(params).sort().map(k =&gt; `${k}=${params[k]}`).join('&amp;');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `cache_${source}_${endpoint}_${sortedParams}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getFromCache(key, maxAge) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const cached = localStorage.getItem(key);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (!cached) return null;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const { data, timestamp } = JSON.parse(cached);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const age = Date.now() - timestamp;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (age &lt; maxAge) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>console.log(`✅ Cache HIT: ${key.substring(0, 50)} (${Math.round(age / 60000)}min ago)`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return data;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>localStorage.removeItem(key);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveToCache(key, data) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem(key, JSON.stringify({ data, timestamp: Date.now() }));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Cache save failed');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === API CALLS ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function callAPIFootball(endpoint, params = {}) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Determina tipo di cache in base all'endpoint</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let cacheType = 'fixtures';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (endpoint.includes('statistics')) cacheType = 'statistics';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (endpoint.includes('standings')) cacheType = 'standings';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (endpoint.includes('h2h')) cacheType = 'h2h';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (endpoint.includes('injuries')) cacheType = 'injuries';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Controlla cache</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cacheKey = getCacheKey('api-football', endpoint, params);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cached = getFromCache(cacheKey, CACHE_DURATIONS[cacheType]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (cached) return cached;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const url = new URL(CONFIG.API_FOOTBALL.baseURL + endpoint);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>Object.entries(params).forEach(([k, v]) =&gt; url.searchParams.append(k, v));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Helper per fetch con timeout</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fetchWithTimeout = async (url, options = {}, timeout = 10000) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const controller = new AbortController();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const timeoutId = setTimeout(() =&gt; controller.abort(), timeout);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const res = await fetch(url, { ...options, signal: controller.signal });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>clearTimeout(timeoutId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return res;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>clearTimeout(timeoutId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>throw e;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const res = await fetchWithTimeout(url.toString(), {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>headers: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'x-rapidapi-key': CONFIG.API_FOOTBALL.key,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'x-rapidapi-host': 'v3.football.api-sports.io'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}, 15000);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (!res.ok) throw new Error(`HTTP ${res.status}`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await res.json();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Salva in cache</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveToCache(cacheKey, data);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Aggiorna lo stato SOLO se era offline</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (state.api.football !== 'online') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.api.football = 'online';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>localStorage.setItem('api_football_status', 'online');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return data;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.error('API Football error:', e);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Aggiorna lo stato SOLO se era online</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (state.api.football !== 'offline') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.api.football = 'offline';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>localStorage.setItem('api_football_status', 'offline');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === CLASSIFICA E POSIZIONE ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function getStandings(leagueId, season) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cacheKey = `${leagueId}_${season}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.standingsCache.has(cacheKey)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return state.standingsCache.get(cacheKey);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await callAPIFootball('/standings', { league: leagueId, season: season || 2024 });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (data?.response?.[0]?.league?.standings?.[0]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const standings = data.response[0].league.standings[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.standingsCache.set(cacheKey, standings);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return standings;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Standings error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getTeamPosition(standings, teamId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!standings) return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const team = standings.find(s =&gt; s.team.id === teamId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!team) return null;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totalTeams = standings.length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const position = team.rank;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola motivazione</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let motivation = 'normale';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let motivationText = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let motivationColor = 'gray';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (position &lt;= 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation = 'alta';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText = '🏆 Lotta Scudetto';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor = 'gold';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else if (position &lt;= 4) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation = 'alta';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText = '⭐ Zona Champions';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor = 'cyan';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else if (position &lt;= 6) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation = 'media-alta';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText = '🌟 Zona Europa';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor = 'blue';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else if (position &gt;= totalTeams - 2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation = 'altissima';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText = '🔥 Zona Retrocessione';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor = 'red';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else if (position &gt;= totalTeams - 5) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation = 'alta';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText = '⚠️ Rischio Retrocessione';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor = 'orange';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation = 'normale';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText = '➖ Metà Classifica';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor = 'gray';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>position,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>totalTeams,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>points: team.points,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>form: team.form,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>played: team.all.played,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>won: team.all.win,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>draw: team.all.draw,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>lost: team.all.lose,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>goalsFor: team.all.goals.for,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>goalsAgainst: team.all.goals.against,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>goalDiff: team.goalsDiff,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivation,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationText,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>motivationColor</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === INFORTUNATI ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function getInjuries(teamId, season) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cacheKey = `injuries_${teamId}_${season}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.injuriesCache.has(cacheKey)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return state.injuriesCache.get(cacheKey);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await callAPIFootball('/injuries', { team: teamId, season: season || 2024 });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (data?.response) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Filtra solo infortuni attivi (ultimi 30 giorni)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const now = new Date();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const thirtyDaysAgo = new Date(now - 30 * 24 * 60 * 60 * 1000);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const injuries = data.response.filter(inj =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const injDate = new Date(inj.fixture.date);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return injDate &gt;= thirtyDaysAgo;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}).map(inj =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>player: inj.player.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>type: inj.player.type || 'Infortunio',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>reason: inj.player.reason || 'Non specificato'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Rimuovi duplicati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const uniqueInjuries = injuries.filter((inj, idx, arr) =&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>arr.findIndex(i =&gt; i.player === inj.player) === idx</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.injuriesCache.set(cacheKey, uniqueInjuries);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return uniqueInjuries;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Injuries error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola impatto infortunati sull'attacco/difesa</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateInjuryImpact(injuries) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!injuries || injuries.length === 0) return { attack: 1.0, defense: 1.0, text: '' };</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let attackImpact = 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let defenseImpact = 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const keyPlayers = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>injuries.forEach(inj =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Stima impatto base: -3% per ogni infortunato</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>attackImpact *= 0.97;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>defenseImpact *= 0.98;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>keyPlayers.push(inj.player);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Limita l'impatto massimo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>attackImpact = Math.max(0.75, attackImpact);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>defenseImpact = Math.max(0.80, defenseImpact);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const text = injuries.length &gt; 0<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>? `${injuries.length} assenti: ${keyPlayers.slice(0, 3).join(', ')}${injuries.length &gt; 3 ? '...' : ''}`</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>: '';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { attack: attackImpact, defense: defenseImpact, text };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === SALVA IMPOSTAZIONI ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveSettings() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_settings', JSON.stringify(state.settings));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function updateThreshold(type, value) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.settings.thresholds[type] = parseInt(value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveSettings();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>setSmartFilter(state.smartFilters.active);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function toggleSettingsPanel() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.settingsOpen = !state.settingsOpen;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function callFootyStats(endpoint, params = {}) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Controlla cache</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cacheKey = getCacheKey('footystats', endpoint, params);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cached = getFromCache(cacheKey, CACHE_DURATIONS.footystats);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (cached) return cached;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const url = new URL(CONFIG.FOOTYSTATS.baseURL + endpoint);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>url.searchParams.append('key', CONFIG.FOOTYSTATS.key);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>Object.entries(params).forEach(([k, v]) =&gt; url.searchParams.append(k, v));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Helper per fetch con timeout</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fetchWithTimeout = async (url, timeout = 8000) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const controller = new AbortController();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const timeoutId = setTimeout(() =&gt; controller.abort(), timeout);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const res = await fetch(url, { signal: controller.signal });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>clearTimeout(timeoutId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return res;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>clearTimeout(timeoutId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>throw e;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Prova prima senza proxy (potrebbe funzionare)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const directRes = await fetchWithTimeout(url.toString(), 5000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (directRes.ok) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const data = await directRes.json();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Salva in cache</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>saveToCache(cacheKey, data);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (state.api.footystats !== 'online') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>state.api.footystats = 'online';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>localStorage.setItem('api_footystats_status', 'online');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return data;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Ignora errori CORS, proviamo con i proxy</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Lista di proxy CORS alternativi (aggiornata e ampliata)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const proxies = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://api.allorigins.win/raw?url=',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://corsproxy.io/?',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://api.codetabs.com/v1/proxy?quest=',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://cors-anywhere.herokuapp.com/',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'https://thingproxy.freeboard.io/fetch/'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Prova ogni proxy in sequenza</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (const proxy of proxies) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const proxyUrl = proxy + encodeURIComponent(url.toString());</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const res = await fetchWithTimeout(proxyUrl, 10000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (res.ok) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const data = await res.json();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">              </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// Salva in cache</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>saveToCache(cacheKey, data);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">              </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>if (state.api.footystats !== 'online') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>state.api.footystats = 'online';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>localStorage.setItem('api_footystats_status', 'online');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">              </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>console.log(`✅ FootyStats funziona con proxy: ${proxy}`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>return data;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>console.log(`❌ Proxy ${proxy} fallito, provo il prossimo...`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>continue;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>throw new Error('Tutti i proxy CORS hanno fallito');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.error('FootyStats error:', e);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (state.api.footystats !== 'offline') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.api.footystats = 'offline';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>localStorage.setItem('api_footystats_status', 'offline');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === DATA LOADING ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function loadMatches(dateOffset = 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.loading = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.selectedDate = dateOffset;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const dateStr = getDateString(dateOffset);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('📅 Loading matches for:', dateStr);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const data = await callAPIFootball('/fixtures', { date: dateStr, timezone: 'Europe/Rome' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (data?.response) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const leagueMap = new Map();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>data.response.forEach(f =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const key = f.league.id;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (!leagueMap.has(key)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>leagueMap.set(key, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>id: f.league.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>name: f.league.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>country: f.league.country,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>logo: f.league.logo,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>season: f.league.season,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>matchCount: 0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>leagueMap.get(key).matchCount++;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.leagues = Array.from(leagueMap.values())</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>.sort((a, b) =&gt; `${a.country} ${a.name}`.localeCompare(`${b.country} ${b.name}`));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.matches = data.response.map(f =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>id: f.fixture.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>date: f.fixture.date,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>timestamp: f.fixture.timestamp,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>status: f.fixture.status.short,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>elapsed: f.fixture.status.elapsed,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>league: f.league,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>home: { id: f.teams.home.id, name: f.teams.home.name, logo: f.teams.home.logo },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>away: { id: f.teams.away.id, name: f.teams.away.name, logo: f.teams.away.logo },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>goals: f.goals</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.log(`✅ Loaded ${state.leagues.length} leagues, ${state.matches.length} matches`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Load FootyStats</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fsData = await callFootyStats('/todays-matches', {});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (fsData?.data) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>fsData.data.forEach(m =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (m.home_name &amp;&amp; m.away_name) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const keys = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`${m.home_name.toLowerCase()}_${m.away_name.toLowerCase()}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>m.home_name.toLowerCase().replace(/\s+/g, '') + '_' + m.away_name.toLowerCase().replace(/\s+/g, '')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>keys.forEach(k =&gt; state.fsData.set(k, m));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola i picks del giorno</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>calculateDailyPicks();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>calculateTraderPicks();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.loading = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === ANALYSIS ENGINE ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function analyzeMatch(match) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.selectedMatch = match;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.view = 'analysis';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.loading = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.analysis = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let homeStats = null, awayStats = null, h2h = [], apiPred = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let homeLastMatches = [], awayLastMatches = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let standings = null, homeInjuries = [], awayInjuries = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const [hs, as] = await Promise.all([</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>callAPIFootball('/teams/statistics', { team: match.home.id, league: match.league.id, season: match.league.season || 2024 }),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>callAPIFootball('/teams/statistics', { team: match.away.id, league: match.league.id, season: match.league.season || 2024 })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeStats = hs?.response;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayStats = as?.response;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ottieni ultime 5 partite per calcolare form REALE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const [homeLastRes, awayLastRes] = await Promise.all([</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>callAPIFootball('/fixtures', { team: match.home.id, last: 5 }),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>callAPIFootball('/fixtures', { team: match.away.id, last: 5 })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeLastMatches = homeLastRes?.response || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayLastMatches = awayLastRes?.response || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const h2hRes = await callAPIFootball('/fixtures/headtohead', { h2h: `${match.home.id}-${match.away.id}`, last: 10 });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>h2h = h2hRes?.response || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const predRes = await callAPIFootball('/predictions', { fixture: match.id });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>apiPred = predRes?.response?.[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NUOVO: Ottieni classifica</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.settings.showStandings) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>standings = await getStandings(match.league.id, match.league.season || 2024);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NUOVO: Ottieni infortunati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.settings.showInjuries) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const [homeInj, awayInj] = await Promise.all([</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>getInjuries(match.home.id, match.league.season || 2024),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>getInjuries(match.away.id, match.league.season || 2024)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>homeInjuries = homeInj || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>awayInjuries = awayInj || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let fsMatch = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fsKeys = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>`${match.home.name.toLowerCase()}_${match.away.name.toLowerCase()}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>match.home.name.toLowerCase().replace(/\s+/g, '') + '_' + match.away.name.toLowerCase().replace(/\s+/g, '')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (const k of fsKeys) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (state.fsData.has(k)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>fsMatch = state.fsData.get(k);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola form reale dalle ultime partite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeForm = calculateRealForm(homeLastMatches, match.home.id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayForm = calculateRealForm(awayLastMatches, match.away.id);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NUOVO: Calcola posizione e motivazione</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homePosition = getTeamPosition(standings, match.home.id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayPosition = getTeamPosition(standings, match.away.id);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NUOVO: Calcola impatto infortunati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeInjuryImpact = calculateInjuryImpact(homeInjuries);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayInjuryImpact = calculateInjuryImpact(awayInjuries);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.analysis = buildAnalysis(match, homeStats, awayStats, h2h, apiPred, fsMatch, homeForm, awayForm, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homePosition, awayPosition, homeInjuries, awayInjuries, homeInjuryImpact, awayInjuryImpact</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// SALVA NELLO STORICO VARIAZIONI</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.analysis) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const ai = generateAIAdvice(match, state.analysis);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const matchName = match.home.name + ' vs ' + match.away.name;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>savePredictionToHistory(match.id, matchName, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>pick: ai.pick,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob: ai.prob</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.loading = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola form reale dalle ultime partite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateRealForm(matches, teamId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!matches || matches.length === 0) return 'DDDDD';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let form = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>matches.forEach(m =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeGoals = m.goals?.home ?? 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayGoals = m.goals?.away ?? 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const isHome = m.teams?.home?.id === teamId;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isHome) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals &gt; awayGoals) form += 'W';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (homeGoals &lt; awayGoals) form += 'L';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else form += 'D';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (awayGoals &gt; homeGoals) form += 'W';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else if (awayGoals &lt; homeGoals) form += 'L';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>else form += 'D';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return form || 'DDDDD';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === ALGORITMO AVANZATO ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function buildAnalysis(match, homeStats, awayStats, h2h, apiPred, fsMatch, homeForm, awayForm, extraData = {}) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Extract real data</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeData = extractTeamData(homeStats, 'home');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayData = extractTeamData(awayStats, 'away');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Estrai dati extra</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const { homePosition, awayPosition, homeInjuries, awayInjuries, homeInjuryImpact, awayInjuryImpact } = extraData;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calculate xG</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let homeXG = calculateXG(homeData, awayData, 'home', apiPred, fsMatch);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let awayXG = calculateXG(awayData, homeData, 'away', apiPred, fsMatch);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// H2H adjustment</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (h2h.length &gt;= 3) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const adj = analyzeH2H(h2h, match.home.id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeXG *= adj.homeMultiplier;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayXG *= adj.awayMultiplier;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Form adjustment (ultime 5 partite)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeForm &amp;&amp; awayForm) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeWins = (homeForm.match(/W/g) || []).length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeLosses = (homeForm.match(/L/g) || []).length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayWins = (awayForm.match(/W/g) || []).length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayLosses = (awayForm.match(/L/g) || []).length;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Aggiusta xG in base al form recente</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (homeWins &gt;= 4) homeXG *= 1.08; // Ottima forma casa</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (homeWins &gt;= 3) homeXG *= 1.04;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (homeLosses &gt;= 3) homeXG *= 0.92; // Pessima forma casa</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (awayWins &gt;= 4) awayXG *= 1.08; // Ottima forma ospite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (awayWins &gt;= 3) awayXG *= 1.04;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (awayLosses &gt;= 3) awayXG *= 0.92; // Pessima forma ospite</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// NOTA: Classifica e Infortuni sono mostrati come INFO ma NON modificano i calcoli</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// per mantenere coerenza con i pronostici storici</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Home advantage (casa gioca meglio, trasferta peggio)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>homeXG *= 1.10;<span class="Apple-converted-space">  </span>// +10% vantaggio casa</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>awayXG *= 0.93;<span class="Apple-converted-space">  </span>// -7% svantaggio trasferta</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Clamp ai valori realistici</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>homeXG = clamp(0.25, homeXG, 3.8);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>awayXG = clamp(0.15, awayXG, 3.2);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totXG = homeXG + awayXG;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Probabilities</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const p1X2 = calc1X2(homeXG, awayXG);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const pOU = calcOU(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// BTTS avanzato: usa Poisson + dati storici clean sheet</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let pBTTS = calcBTTS(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Aggiusta BTTS con dati clean sheet e failed to score</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeWillScore = 100 - homeData.failedToScorePct; // % che la casa segna</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayWillScore = 100 - awayData.failedToScorePct; // % che l'ospite segna</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const historicalBTTS = (homeWillScore * awayWillScore) / 100;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Media ponderata: 60% Poisson, 40% storico</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>pBTTS = (pBTTS * 0.60) + (historicalBTTS * 0.40);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>pBTTS = clamp(15, pBTTS, 85);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const exactScores = calcExactScores(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Corners &amp; Cards</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const corners = calcCorners(homeData, awayData, fsMatch);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cards = calcCards(homeData, awayData, fsMatch);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Build predictions</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const predictions = buildPredictions(match, homeXG, awayXG, p1X2, pOU, pBTTS, exactScores, corners, cards);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Build combos</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const combos = buildCombos(p1X2, pOU, pBTTS);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// H2H info</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const h2hInfo = summarizeH2H(h2h, match.home.id);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Multigoal analysis (tutti i range)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const multigoal = calcAllMultigol(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Distribuzione temporale gol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const temporalDistribution = calcTemporalDistribution(homeXG, awayXG);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Multigoal squadra</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const multigoalHome = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '1+', prob: calcTeamMultigol(homeXG, 1, 6) },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '2+', prob: calcTeamMultigol(homeXG, 2, 6) },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '1-2', prob: calcTeamMultigol(homeXG, 1, 2) },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '1-3', prob: calcTeamMultigol(homeXG, 1, 3) }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const multigoalAway = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '1+', prob: calcTeamMultigol(awayXG, 1, 6) },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '2+', prob: calcTeamMultigol(awayXG, 2, 6) },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '1-2', prob: calcTeamMultigol(awayXG, 1, 2) },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ range: '1-3', prob: calcTeamMultigol(awayXG, 1, 3) }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>match,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>xG: { home: homeXG, away: awayXG, total: totXG },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>p1X2, pOU, pBTTS,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>exactScores: exactScores.slice(0, 12),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>corners, cards,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>h2h: h2hInfo,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>predictions,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>combos,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>multigoal,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>temporalDistribution,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>multigoalHome,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>multigoalAway,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeForm: homeForm || 'N/A',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayForm: awayForm || 'N/A',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// NUOVO: Classifica e Infortunati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homePosition,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayPosition,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>homeInjuries: homeInjuries || [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>awayInjuries: awayInjuries || [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>quality: (homeStats || awayStats) ? 'enhanced' : 'base'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function extractTeamData(stats, side) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!stats) return {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>goalsFor: 1.3, goalsAgainst: 1.2, form: 'DDDDD', corners: 5.0, cards: 1.8,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>cleanSheetPct: 25, failedToScorePct: 25, played: 10, wins: 4, draws: 3, losses: 3</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const goals = stats.goals || {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const fixtures = stats.fixtures || {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const played = (side === 'home' ? fixtures.played?.home : fixtures.played?.away) || fixtures.played?.total || 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const wins = (side === 'home' ? fixtures.wins?.home : fixtures.wins?.away) || fixtures.wins?.total || 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const draws = (side === 'home' ? fixtures.draws?.home : fixtures.draws?.away) || fixtures.draws?.total || 3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const losses = (side === 'home' ? fixtures.loses?.home : fixtures.loses?.away) || fixtures.loses?.total || 3;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const forAvg = side === 'home'<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>? (goals.for?.average?.home || goals.for?.average?.total || 1.3)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>: (goals.for?.average?.away || goals.for?.average?.total || 1.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const againstAvg = side === 'home'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>? (goals.against?.average?.home || goals.against?.average?.total || 1.2)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>: (goals.against?.average?.away || goals.against?.average?.total || 1.3);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Clean sheet e failed to score percentuali</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cleanSheetPct = stats.clean_sheet ?<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>((side === 'home' ? stats.clean_sheet.home : stats.clean_sheet.away) || stats.clean_sheet.total || 0) / played * 100 : 25;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const failedToScorePct = stats.failed_to_score ?</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>((side === 'home' ? stats.failed_to_score.home : stats.failed_to_score.away) || stats.failed_to_score.total || 0) / played * 100 : 25;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>goalsFor: parseFloat(forAvg) || 1.3,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>goalsAgainst: parseFloat(againstAvg) || 1.2,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>form: stats.form || 'DDDDD',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>corners: 5.0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>cards: parseFloat(stats.cards?.yellow?.total) / (played || 1) || 1.8,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>cleanSheetPct: cleanSheetPct || 25,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>failedToScorePct: failedToScorePct || 25,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>played, wins, draws, losses,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>winRate: played &gt; 0 ? (wins / played) * 100 : 40</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateXG(teamData, oppData, side, apiPred, fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Base: attacco squadra vs difesa avversaria (ponderato)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const attackStrength = teamData.goalsFor / 1.25; // Normalizzato su media campionato ~1.25</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const defenseWeakness = oppData.goalsAgainst / 1.25;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let xg = 1.25 * attackStrength * defenseWeakness; // Expected goals base</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Fattore forma recente (peso 20%)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const formMultiplier = calculateFormMultiplier(teamData.form);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>xg = xg * 0.80 + xg * formMultiplier * 0.20;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Fattore win rate (squadre che vincono spesso segnano di più)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (teamData.winRate &gt; 60) xg *= 1.08;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (teamData.winRate &lt; 30) xg *= 0.90;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Fattore clean sheet avversario (se l'avversario fa molti clean sheet, segnerai meno)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (oppData.cleanSheetPct &gt; 40) xg *= 0.88;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (oppData.cleanSheetPct &lt; 20) xg *= 1.10;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Fattore failed to score (se la squadra spesso non segna)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (teamData.failedToScorePct &gt; 35) xg *= 0.85;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (teamData.failedToScorePct &lt; 15) xg *= 1.08;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// API Predictions (peso 35% se disponibili - sono dati molto accurati)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (apiPred?.predictions?.goals) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const apiGoal = side === 'home' ? parseFloat(apiPred.predictions.goals.home) : parseFloat(apiPred.predictions.goals.away);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (apiGoal &gt; 0) xg = (xg * 0.65) + (apiGoal * 0.35);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// FootyStats xG reali (peso 40% se disponibili - sono i più accurati)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsXg = side === 'home' ? fsMatch.home_xg : fsMatch.away_xg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsPpg = side === 'home' ? fsMatch.home_ppg : fsMatch.away_ppg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const fsAvgGoals = side === 'home' ? fsMatch.avg_goals_home : fsMatch.avg_goals_away;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsXg &amp;&amp; fsXg &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xg = (xg * 0.60) + (fsXg * 0.40);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (fsAvgGoals &amp;&amp; fsAvgGoals &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xg = (xg * 0.65) + (fsAvgGoals * 0.35);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else if (fsPpg &amp;&amp; fsPpg &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xg = (xg * 0.75) + (fsPpg * 0.6 * 0.25); // PPG convertito in gol attesi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return xg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateFormMultiplier(form) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!form || form.length === 0) return 1.0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const recent = form.slice(0, 5).split('');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let score = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let totalWeight = 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>recent.forEach((r, i) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Peso decrescente: partita più recente conta di più</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const weight = Math.pow(0.8, i); // 1, 0.8, 0.64, 0.51, 0.41</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>totalWeight += weight;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (r === 'W') score += 1.0 * weight;<span class="Apple-converted-space">      </span>// Vittoria = 1.0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (r === 'D') score += 0.35 * weight; // Pareggio = 0.35</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (r === 'L') score += 0.0 * weight;<span class="Apple-converted-space">  </span>// Sconfitta = 0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const avgScore = totalWeight &gt; 0 ? score / totalWeight : 0.5;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Converti in moltiplicatore: range 0.80 - 1.20</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Score 0 (tutte sconfitte) -&gt; 0.80</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Score 0.5 (medio) -&gt; 1.00</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Score 1 (tutte vittorie) -&gt; 1.20</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return 0.80 + (avgScore * 0.40);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function analyzeH2H(h2h, homeId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!h2h || h2h.length === 0) return { homeMultiplier: 1.0, awayMultiplier: 1.0 };</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let hg = 0, ag = 0, totalWeight = 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>h2h.forEach((m, index) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Peso decrescente per partite più vecchie</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const weight = Math.pow(0.85, index); // Partite recenti contano di più</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>totalWeight += weight;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeGoals = m.goals?.home || 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayGoals = m.goals?.away || 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (m.teams?.home?.id === homeId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>hg += homeGoals * weight;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>ag += awayGoals * weight;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>hg += awayGoals * weight;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>ag += homeGoals * weight;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Normalizza per il peso totale</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const avgHome = totalWeight &gt; 0 ? hg / totalWeight : 1.2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const avgAway = totalWeight &gt; 0 ? ag / totalWeight : 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const avgTotal = (avgHome + avgAway) / 2;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola moltiplicatori con range più ampio per H2H significativi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeMultiplier = avgTotal &gt; 0.1 ? clamp(0.85, avgHome / avgTotal, 1.15) : 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayMultiplier = avgTotal &gt; 0.1 ? clamp(0.85, avgAway / avgTotal, 1.15) : 1.0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { homeMultiplier, awayMultiplier };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function summarizeH2H(h2h, homeId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const info = { matches: h2h.length, homeWins: 0, draws: 0, awayWins: 0, totalGoals: 0 };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>h2h.forEach(m =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const hg = m.goals?.home || 0, ag = m.goals?.away || 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>info.totalGoals += hg + ag;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (m.teams?.home?.id === homeId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (hg &gt; ag) info.homeWins++; else if (hg &lt; ag) info.awayWins++; else info.draws++;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (ag &gt; hg) info.homeWins++; else if (ag &lt; hg) info.awayWins++; else info.draws++;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>info.avgGoals = info.matches ? (info.totalGoals / info.matches).toFixed(1) : '2.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return info;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcCorners(homeData, awayData, fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Base: medie tipiche per corner (varia per campionato)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let h = 5.2, a = 4.3;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Usa dati FootyStats più precisi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch.home_corners &amp;&amp; fsMatch.home_corners &gt; 0) h = fsMatch.home_corners;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (fsMatch.team_a_corners_avg &amp;&amp; fsMatch.team_a_corners_avg &gt; 0) h = fsMatch.team_a_corners_avg;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch.away_corners &amp;&amp; fsMatch.away_corners &gt; 0) a = fsMatch.away_corners;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>else if (fsMatch.team_b_corners_avg &amp;&amp; fsMatch.team_b_corners_avg &gt; 0) a = fsMatch.team_b_corners_avg;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Se disponibile media totale</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch.corners_avg &amp;&amp; fsMatch.corners_avg &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const fsTotal = fsMatch.corners_avg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const ratio = h / (h + a);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>h = fsTotal * ratio;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>a = fsTotal * (1 - ratio);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MIGLIORAMENTO: Aggiusta in base a stile di gioco</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Squadre offensive generano più corner (più attacchi)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeData.goals &gt;= 1.8) h *= 1.08; // Casa attaccante</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (awayData.goals &gt;= 1.5) a *= 1.06; // Ospite attaccante</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeData.goals &lt;= 0.9) h *= 0.92; // Casa difensiva</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (awayData.goals &lt;= 0.8) a *= 0.90; // Ospite difensiva</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>h = clamp(2.0, h, 8.0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>a = clamp(1.5, a, 7.0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const total = h + a;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const probs = {};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MIGLIORAMENTO: Distribuzione Poisson (più accurata per eventi discreti)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>[8.5, 9.5, 10.5, 11.5].forEach(line =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let pOver = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Calcola probabilità con Poisson</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let i = 0; i &lt;= 20; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const pCorners = (Math.pow(total, i) * Math.exp(-total)) / factorial(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i &gt; line) pOver += pCorners;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pOver *= 100;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>probs[line] = {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>over: clamp(15, pOver, 85),<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>under: clamp(15, 100 - pOver, 85)<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { home: h, away: a, total, probs };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Helper per fattoriale (per Poisson)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function factorial(n) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (n &lt;= 1) return 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let result = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 2; i &lt;= n; i++) result *= i;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return result;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcCards(homeData, awayData, fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Base: media cartellini per squadra</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let h = homeData.cards || 2.1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let a = awayData.cards || 1.9;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Usa dati FootyStats se disponibili</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (fsMatch) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch.home_cards) h = fsMatch.home_cards;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (fsMatch.away_cards) a = fsMatch.away_cards;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MIGLIORAMENTO: Aggiusta in base ad aggressività</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Squadre che subiscono molti gol tendono a fare più falli (disperazione)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeData.conceded &gt;= 1.5) h *= 1.10; // Casa che subisce molto</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (awayData.conceded &gt;= 1.8) a *= 1.12; // Ospite che subisce molto</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Squadre offensive aggressive (molti gol ma anche falli)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeData.goals &gt;= 2.0 &amp;&amp; homeData.conceded &gt;= 1.3) h *= 1.06;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (awayData.goals &gt;= 1.8 &amp;&amp; awayData.conceded &gt;= 1.5) a *= 1.08;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Squadre difensive disciplinate (pochi gol, pochi falli)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeData.goals &lt;= 1.0 &amp;&amp; homeData.conceded &lt;= 1.0) h *= 0.92;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (awayData.goals &lt;= 0.8 &amp;&amp; awayData.conceded &lt;= 0.8) a *= 0.90;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>h = clamp(1.0, h, 4.0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>a = clamp(0.8, a, 3.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const total = h + a;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const probs = {};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MIGLIORAMENTO: Distribuzione Poisson</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>[2.5, 3.5, 4.5, 5.5].forEach(line =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let pOver = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Calcola probabilità con Poisson</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let i = 0; i &lt;= 12; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const pCards = (Math.pow(total, i) * Math.exp(-total)) / factorial(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i &gt; line) pOver += pCards;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pOver *= 100;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>probs[line] = {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>over: clamp(18, pOver, 82),<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>under: clamp(18, 100 - pOver, 82)<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { home: h, away: a, total, probs };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calc1X2(lH, lA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let pH = 0, pD = 0, pA = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 0; i &lt;= 6; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let j = 0; j &lt;= 6; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const p = poisson(lH, i) * poisson(lA, j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i &gt; j) pH += p; else if (i === j) pD += p; else pA += p;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const t = pH + pD + pA;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { home: (pH/t)*100, draw: (pD/t)*100, away: (pA/t)*100 };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcBTTS(lH, lA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return clamp(15, (1 - poisson(lH, 0)) * (1 - poisson(lA, 0)) * 100, 85);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcOU(lH, lA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const result = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>[1.5, 2.5, 3.5, 4.5].forEach(line =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let pU = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let i = 0; i &lt;= 6; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>for (let j = 0; j &lt;= 6; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (i + j &lt;= Math.floor(line)) pU += poisson(lH, i) * poisson(lA, j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>result[line] = { over: clamp(5, (1 - pU) * 100, 95), under: clamp(5, pU * 100, 95) };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return result;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcExactScores(lH, lA) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const scores = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Dixon-Coles correction factor per risultati a basso punteggio</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Questo corregge la tendenza del Poisson a sottostimare 0-0, 1-0, 0-1, 1-1</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const rho = 0.13; // Fattore di correlazione (valori tipici: 0.10-0.15)</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 0; i &lt;= 5; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let j = 0; j &lt;= 5; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let p = poisson(lH, i) * poisson(lA, j);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Applica Dixon-Coles correction per risultati bassi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i === 0 &amp;&amp; j === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>p *= (1 + lH * lA * rho); // 0-0 leggermente più probabile</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (i === 0 &amp;&amp; j === 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>p *= (1 + lH * rho); // 0-1<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (i === 1 &amp;&amp; j === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>p *= (1 + lA * rho); // 1-0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (i === 1 &amp;&amp; j === 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>p *= (1 - rho); // 1-1 leggermente meno probabile (già frequente)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>scores.push({ h: i, a: j, p: p * 100 });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Normalizza le probabilità</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const total = scores.reduce((sum, s) =&gt; sum + s.p, 0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>scores.forEach(s =&gt; s.p = (s.p / total) * 100);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return scores.sort((a, b) =&gt; b.p - a.p);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcMultigol(lH, lA, min, max) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let prob = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 0; i &lt;= 6; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let j = 0; j &lt;= 6; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const t = i + j;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (t &gt;= min &amp;&amp; t &lt;= max) prob += poisson(lH, i) * poisson(lA, j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return prob * 100;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola TUTTI i range multigoal</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcAllMultigol(homeXG, awayXG) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const ranges = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '0-2', min: 0, max: 2 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '0-3', min: 0, max: 3 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '1-3', min: 1, max: 3 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '1-4', min: 1, max: 4 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '2-4', min: 2, max: 4 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '2-5', min: 2, max: 5 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '3-5', min: 3, max: 5 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ name: '3-6', min: 3, max: 6 }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return ranges.map(r =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>range: r.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>prob: calcMultigol(homeXG, awayXG, r.min, r.max),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>quota: (100 / calcMultigol(homeXG, awayXG, r.min, r.max)).toFixed(2)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>})).sort((a, b) =&gt; b.prob - a.prob);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola distribuzione gol per tempo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcTemporalDistribution(homeXG, awayXG) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Statisticamente: ~42% gol nel 1T, ~58% nel 2T</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeXG_1T = homeXG * 0.42;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeXG_2T = homeXG * 0.58;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayXG_1T = awayXG * 0.42;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayXG_2T = awayXG * 0.58;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totXG_1T = homeXG_1T + awayXG_1T;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totXG_2T = homeXG_2T + awayXG_2T;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Calcola over/under per tempo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const over05_1T = calcMultigol(homeXG_1T, awayXG_1T, 1, 6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const over15_1T = calcMultigol(homeXG_1T, awayXG_1T, 2, 6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const over05_2T = calcMultigol(homeXG_2T, awayXG_2T, 1, 6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const over15_2T = calcMultigol(homeXG_2T, awayXG_2T, 2, 6);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Tempo con più gol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const piuGol1T = totXG_1T &gt; totXG_2T;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const probPiuGol = piuGol1T ?<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>(totXG_1T / (totXG_1T + totXG_2T)) * 100 :</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>(totXG_2T / (totXG_1T + totXG_2T)) * 100;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>primoTempo: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xG: totXG_1T,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>over05: over05_1T,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>over15: over15_1T</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>secondoTempo: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>xG: totXG_2T,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>over05: over05_2T,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>over15: over15_2T</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tempoConPiuGol: piuGol1T ? '1° Tempo' : '2° Tempo',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>probTempoConPiuGol: probPiuGol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcTeamMultigol(l, min, max) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let prob = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = min; i &lt;= max; i++) prob += poisson(l, i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return prob * 100;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function buildPredictions(match, homeXG, awayXG, p1X2, pOU, pBTTS, exactScores, corners, cards) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const preds = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totXG = homeXG + awayXG;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// xG Primo Tempo (circa 45% dei gol nel 1T)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeXG_1T = homeXG * 0.45;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayXG_1T = awayXG * 0.45;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// 1X2</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const max1X2 = Math.max(p1X2.home, p1X2.draw, p1X2.away);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let esito = p1X2.home === max1X2 ? '1' : (p1X2.away === max1X2 ? '2' : 'X');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'Esito 1X2', value: esito, prob: max1X2 });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// GG/NG</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'GG/NG', value: pBTTS &gt;= 50 ? 'GG' : 'NG', prob: pBTTS &gt;= 50 ? pBTTS : 100-pBTTS });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Over/Under 2.5</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'O/U 2.5', value: pOU[2.5].over &gt;= 50 ? 'Over 2.5' : 'Under 2.5', prob: Math.max(pOU[2.5].over, pOU[2.5].under) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Over/Under 1.5</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'O/U 1.5', value: pOU[1.5].over &gt;= 50 ? 'Over 1.5' : 'Under 1.5', prob: Math.max(pOU[1.5].over, pOU[1.5].under) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === OVER PRIMO TEMPO ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const pOver05_1T = calcOver1T(homeXG_1T, awayXG_1T, 0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const pOver15_1T = calcOver1T(homeXG_1T, awayXG_1T, 1.5);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Over 0.5 1T</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'O/U 0.5 1T', value: pOver05_1T &gt;= 50 ? 'Over 0.5 1T' : 'Under 0.5 1T', prob: Math.max(pOver05_1T, 100 - pOver05_1T) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Over 1.5 1T (solo se xG è alto)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (totXG &gt;= 2.5) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>preds.push({ market: 'O/U 1.5 1T', value: pOver15_1T &gt;= 50 ? 'Over 1.5 1T' : 'Under 1.5 1T', prob: Math.max(pOver15_1T, 100 - pOver15_1T) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Multigol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const mg13 = calcMultigol(homeXG, awayXG, 1, 3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const mg24 = calcMultigol(homeXG, awayXG, 2, 4);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'Multigol', value: totXG &lt; 2.8 ? '1-3' : '2-4', prob: totXG &lt; 2.8 ? mg13 : mg24 });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MG Casa 1-3</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const mgH = calcTeamMultigol(homeXG, 1, 3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'MG Casa', value: '1-3', prob: mgH });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MG Ospite 1-3</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const mgA = calcTeamMultigol(awayXG, 1, 3);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'MG Ospite', value: '1-3', prob: mgA });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Corner</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cProb = corners.probs[9.5];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'Corner', value: cProb.over &gt;= 50 ? 'Over 9.5' : 'Under 9.5', prob: Math.max(cProb.over, cProb.under) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Cartellini</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cardLine = cards.total &gt; 4 ? 4.5 : 3.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const cardProb = cards.probs[cardLine];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'Cartellini', value: cardProb.over &gt;= 50 ? `Over ${cardLine}` : `Under ${cardLine}`, prob: Math.max(cardProb.over, cardProb.under) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Risultato Esatto</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>preds.push({ market: 'Ris. Esatto', value: `${exactScores[0].h}-${exactScores[0].a}`, prob: exactScores[0].p });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return preds.sort((a, b) =&gt; b.prob - a.prob);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Calcola Over Primo Tempo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calcOver1T(homeXG_1T, awayXG_1T, line) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let pUnder = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (let i = 0; i &lt;= 4; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (let j = 0; j &lt;= 4; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (i + j &lt;= Math.floor(line)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>pUnder += poisson(homeXG_1T, i) * poisson(awayXG_1T, j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return clamp(10, (1 - pUnder) * 100, 90);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function buildCombos(p1X2, pOU, pBTTS) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const combos = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// 1X + Over 1.5</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const p1X = p1X2.home + p1X2.draw;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const o15 = pOU[1.5].over;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>combos.push({ value: '1X + Over 1.5', prob: (p1X * o15) / 100, odds: (100 / ((p1X * o15) / 100)).toFixed(2) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// 1 + Over 1.5</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>combos.push({ value: '1 + Over 1.5', prob: (p1X2.home * o15) / 100, odds: (100 / ((p1X2.home * o15) / 100)).toFixed(2) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// GG + Under 3.5</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const u35 = pOU[3.5].under;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>combos.push({ value: 'GG + Under 3.5', prob: (pBTTS * u35) / 100, odds: (100 / ((pBTTS * u35) / 100)).toFixed(2) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// GG + Over 2.5</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const o25 = pOU[2.5].over;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>combos.push({ value: 'GG + Over 2.5', prob: (pBTTS * o25) / 100, odds: (100 / ((pBTTS * o25) / 100)).toFixed(2) });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return combos.sort((a, b) =&gt; b.prob - a.prob);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === STATISTICAL ADVICE - Pronostico basato SOLO sulla probabilità più alta ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function generateStatisticalAdvice(match, analysis) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const { predictions } = analysis;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bestPrediction = predictions.reduce((best, current) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return current.prob &gt; best.prob ? current : best;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}, predictions[0]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let confidence = 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bestPrediction.prob &gt;= 70) confidence = 'high';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (bestPrediction.prob &lt; 55) confidence = 'low';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const alternatives = predictions</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.filter(p =&gt; p.market !== bestPrediction.market)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.sort((a, b) =&gt; b.prob - a.prob)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.slice(0, 3)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.map(p =&gt; ({ pick: p.value, prob: p.prob.toFixed(0) }));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pick: bestPrediction.value,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>market: bestPrediction.market,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>prob: bestPrediction.prob,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>confidence,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alternatives</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === AI ADVICE - Genera il consiglio intelligente ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function generateAIAdvice(match, analysis) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const { xG, p1X2, pOU, pBTTS, exactScores } = analysis;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeXG = xG.home;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayXG = xG.away;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totXG = xG.total;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const advice = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pick: '',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>prob: 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>confidence: 'medium',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>reasons: [],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alternatives: []</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Analisi della partita</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeStrong = homeXG &gt; 1.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayWeak = awayXG &lt; 0.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const awayStrong = awayXG &gt; 1.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const homeWeak = homeXG &lt; 1.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const highScoring = totXG &gt;= 3.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const veryHighScoring = totXG &gt;= 3.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const lowScoring = totXG &lt; 2.2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const balanced = Math.abs(homeXG - awayXG) &lt; 0.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const ggLikely = pBTTS &gt;= 55 &amp;&amp; homeXG &gt; 0.9 &amp;&amp; awayXG &gt; 0.9;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === LOGICA DI SELEZIONE ===</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 1: Casa dominante (xG casa alto, ospite basso)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (homeStrong &amp;&amp; awayWeak &amp;&amp; p1X2.home &gt;= 65) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = '1 (Vittoria Casa)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = p1X2.home;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = p1X2.home &gt;= 75 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Casa ${homeXG.toFixed(2)} molto superiore`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Ospite solo ${awayXG.toFixed(2)}`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Probabilità ${p1X2.home.toFixed(0)}% favorevole`, type: 'positive' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (highScoring) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>advice.alternatives.push({ pick: '1 + Over 1.5', prob: ((p1X2.home * pOU[1.5].over) / 100).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: '1X', prob: (p1X2.home + p1X2.draw).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 2: Trasferta dominante</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (awayStrong &amp;&amp; homeWeak &amp;&amp; p1X2.away &gt;= 60) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = '2 (Vittoria Ospite)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = p1X2.away;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = p1X2.away &gt;= 70 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Ospite ${awayXG.toFixed(2)} superiore`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Casa debole ${homeXG.toFixed(2)}`, type: 'positive' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: 'X2', prob: (p1X2.away + p1X2.draw).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 3: Partita da GOL (xG totale alto)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (veryHighScoring &amp;&amp; pOU[2.5].over &gt;= 70) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = 'Over 2.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = pOU[2.5].over;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = pOU[2.5].over &gt;= 80 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Totale ${totXG.toFixed(2)} molto alto`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Entrambe le squadre segnano regolarmente`, type: 'positive' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: 'Over 1.5 1T', prob: '60+' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: 'Over 3.5', prob: pOU[3.5].over.toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (ggLikely) advice.alternatives.push({ pick: 'GG', prob: pBTTS.toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 4: GG probabile (entrambe segnano)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (ggLikely &amp;&amp; pBTTS &gt;= 60) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = 'GG (Entrambe Segnano)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = pBTTS;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = pBTTS &gt;= 70 ? 'high' : 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Casa ${homeXG.toFixed(2)} - segnerà`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Ospite ${awayXG.toFixed(2)} - segnerà`, type: 'positive' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (highScoring) advice.alternatives.push({ pick: 'GG + Over 2.5', prob: ((pBTTS * pOU[2.5].over) / 100).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: 'Over 2.5', prob: pOU[2.5].over.toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 5: Over 1.5 sicuro</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (pOU[1.5].over &gt;= 80) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = 'Over 1.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = pOU[1.5].over;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = 'high';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Probabilità ${pOU[1.5].over.toFixed(0)}% molto alta`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Totale ${totXG.toFixed(2)} supporta gol`, type: 'positive' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: '1X + Over 1.5', prob: (((p1X2.home + p1X2.draw) * pOU[1.5].over) / 100).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 6: 1X sicuro (casa non perde)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if ((p1X2.home + p1X2.draw) &gt;= 80) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = '1X (Casa o Pareggio)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = p1X2.home + p1X2.draw;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = 'high';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Casa forte con xG ${homeXG.toFixed(2)}`, type: 'positive' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Vittoria ospite improbabile (${p1X2.away.toFixed(0)}%)`, type: 'positive' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: '1', prob: p1X2.home.toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (highScoring) advice.alternatives.push({ pick: '1X + Over 1.5', prob: (((p1X2.home + p1X2.draw) * pOU[1.5].over) / 100).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 7: Partita equilibrata</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if (balanced &amp;&amp; p1X2.draw &gt;= 28) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = 'Under 3.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = pOU[3.5].under;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = lowScoring ? 'medium' : 'low';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Partita equilibrata (xG simili)`, type: 'neutral' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Possibile pareggio (${p1X2.draw.toFixed(0)}%)`, type: 'neutral' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: 'X', prob: p1X2.draw.toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.alternatives.push({ pick: 'Under 2.5', prob: pOU[2.5].under.toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// CASO 8: Default - Over 1.5 (quasi sempre valido)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.pick = 'Over 1.5';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.prob = pOU[1.5].over;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.confidence = pOU[1.5].over &gt;= 70 ? 'medium' : 'low';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `Pronostico più sicuro per questa partita`, type: 'neutral' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: `xG Totale ${totXG.toFixed(2)}`, type: 'neutral' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (p1X2.home &gt;= 55) advice.alternatives.push({ pick: '1X', prob: (p1X2.home + p1X2.draw).toFixed(0) });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Aggiungi warning se i dati non sono affidabili</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (analysis.quality === 'base') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>advice.reasons.push({ text: 'Dati statistici limitati', type: 'negative' });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (advice.confidence === 'high') advice.confidence = 'medium';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return advice;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getProbClass(prob) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (prob &gt;= 65) return 'high';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (prob &gt;= 50) return 'mid';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return 'low';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Funzione per generare il verdetto del trader</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderTraderVerdict(ai, stat, d) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bestProb = Math.max(ai.prob, stat.prob);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bestPick = ai.prob &gt;= stat.prob ? ai.pick : stat.pick;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bestMarket = ai.prob &gt;= stat.prob ? 'AI' : 'Statistico';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const HISTORICAL = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'Under': { rate: 100, note: 'Storico perfetto!' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'GG': { rate: 100, note: 'Mai sbagliato!' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'1': { rate: 91.7, note: 'Ottimo storico' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'1 Casa': { rate: 91.7, note: 'Ottimo storico' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'2': { rate: 88.9, note: 'Buon storico' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'2 Ospite': { rate: 88.9, note: 'Buon storico' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'1X': { rate: 88.9, note: 'Buon storico' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'X2': { rate: 88.9, note: 'Buon storico' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'X': { rate: 88.9, note: 'Equilibrato' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'Over 1.5': { rate: 80, note: 'Discreto' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'Over 2.5': { rate: 69, note: '⚠️ Attenzione!' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'Over 3.5': { rate: 65, note: '⚠️ Rischioso' }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let histMatch = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (const [key, val] of Object.entries(HISTORICAL)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (bestPick.includes(key) || bestPick === key) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>histMatch = { market: key, ...val };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!histMatch) histMatch = { market: bestPick, rate: 75, note: 'Dati limitati' };</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let verdict, verdictClass, verdictIcon;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bestProb &gt;= 80 &amp;&amp; histMatch.rate &gt;= 85) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdict = '✅ GIOCABILE';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdictClass = 'play';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdictIcon = '🎯';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else if (bestProb &gt;= 70 &amp;&amp; histMatch.rate &gt;= 70) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdict = '⚠️ CAUTELA';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdictClass = 'caution';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdictIcon = '⚡';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdict = '❌ EVITARE';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdictClass = 'avoid';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>verdictIcon = '🛑';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let suggestion = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bestProb &gt;= 82) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>suggestion = 'Ideale per &lt;strong&gt;RADDOPPIO&lt;/strong&gt; con altra partita ≥82%';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else if (bestProb &gt;= 70) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>suggestion = 'Consigliata come &lt;strong&gt;SINGOLA&lt;/strong&gt; (max 5% bankroll)';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>suggestion = 'Non consigliata per betting. Solo per studio.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stars = Math.min(5, Math.floor(bestProb / 18));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>let warningHtml = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (histMatch.rate &lt; 75) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>warningHtml = '&lt;div class="verdict-warning"&gt;&lt;span class="verdict-warning-icon"&gt;⚠️&lt;/span&gt;&lt;span class="verdict-warning-text"&gt;&lt;strong&gt;Attenzione:&lt;/strong&gt; Questo mercato ha uno storico sotto il 75%. Evita di usarlo nei raddoppi.&lt;/span&gt;&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return '&lt;div class="trader-verdict"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;div class="verdict-header"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="verdict-icon"&gt;' + verdictIcon + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="verdict-title"&gt;&lt;h3&gt;Consiglio del Trader&lt;/h3&gt;&lt;p&gt;Analisi strategica basata su probabilità e storico&lt;/p&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="verdict-badge ' + verdictClass + '"&gt;' + verdict + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;div class="verdict-content"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="verdict-box"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="verdict-box-title"&gt;🎯 Pick Consigliato&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="verdict-main-pick"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="verdict-main-pick-label"&gt;Pronostico ' + bestMarket + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="verdict-main-pick-value"&gt;' + bestPick + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="verdict-main-pick-prob"&gt;' + bestProb.toFixed(0) + '%&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>'&lt;div class="verdict-stars"&gt;' + '★'.repeat(stars) + '☆'.repeat(5-stars) + '&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="verdict-suggestion"&gt;&lt;span class="verdict-suggestion-icon"&gt;💡&lt;/span&gt;&lt;span class="verdict-suggestion-text"&gt;' + suggestion + '&lt;/span&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;div class="verdict-box"&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="verdict-box-title"&gt;📊 Win Rate Storico&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="verdict-suggestion"&gt;&lt;span class="verdict-suggestion-icon"&gt;📈&lt;/span&gt;&lt;span class="verdict-suggestion-text"&gt;Mercato &lt;strong&gt;' + histMatch.market + '&lt;/strong&gt;: &lt;strong&gt;' + histMatch.rate + '%&lt;/strong&gt; win rate&lt;/span&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>'&lt;div class="verdict-suggestion"&gt;&lt;span class="verdict-suggestion-icon"&gt;📝&lt;/span&gt;&lt;span class="verdict-suggestion-text"&gt;' + histMatch.note + '&lt;/span&gt;&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>warningHtml +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>'&lt;/div&gt;' +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>'&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === LIVE BETTING SYSTEM ===</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function loadLiveMatches() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveLoading = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Usa la stessa API già configurata</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await callAPIFootball('/fixtures', { live: 'all' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (data &amp;&amp; data.response) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.liveMatches = data.response.map(f =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>id: f.fixture.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>status: f.fixture.status.short,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>elapsed: f.fixture.status.elapsed || 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>league: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>id: f.league.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>name: f.league.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>country: f.league.country,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>logo: f.league.logo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>home: { id: f.teams.home.id, name: f.teams.home.name, logo: f.teams.home.logo },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>away: { id: f.teams.away.id, name: f.teams.away.name, logo: f.teams.away.logo },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>goals: { home: f.goals.home || 0, away: f.goals.away || 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>stats: f.statistics || []</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Calcola gli alert</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>calculateLiveAlerts();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.error('Live load error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveLoading = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function calculateLiveAlerts() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const alerts = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === CONFIGURAZIONE CAMPIONATI AD ALTA MEDIA GOL ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const HIGH_SCORING_LEAGUES = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Top 5 Europei</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>88: { name: 'Eredivisie', avgGoals: 3.2, boost: 12 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>78: { name: 'Bundesliga', avgGoals: 3.1, boost: 10 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>144: { name: 'Jupiler Pro', avgGoals: 3.0, boost: 10 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>218: { name: 'Bundesliga Austria', avgGoals: 3.0, boost: 10 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>179: { name: 'Premiership Scozia', avgGoals: 2.9, boost: 8 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Serie A e altri</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>135: { name: 'Serie A', avgGoals: 2.8, boost: 6 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>39: { name: 'Premier League', avgGoals: 2.8, boost: 6 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>140: { name: 'La Liga', avgGoals: 2.6, boost: 4 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>61: { name: 'Ligue 1', avgGoals: 2.7, boost: 5 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Leghe minori ad alto punteggio</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>203: { name: 'Super Lig Turchia', avgGoals: 2.9, boost: 8 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>94: { name: 'Primeira Liga Portogallo', avgGoals: 2.7, boost: 5 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Sudamerica (tanti gol)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>71: { name: 'Serie A Brasile', avgGoals: 2.6, boost: 5 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>128: { name: 'Liga Argentina', avgGoals: 2.5, boost: 4 }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === MOMENTI CALDI (statisticamente più gol) ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const getHotMomentBoost = (elapsed, isFirstHalf) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isFirstHalf) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 43 &amp;&amp; elapsed &lt;= 45) return 15; // Fine 1T - squadre spingono</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 40 &amp;&amp; elapsed &lt;= 42) return 8;<span class="Apple-converted-space">  </span>// Pre-fine 1T</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 35 &amp;&amp; elapsed &lt;= 39) return 5;<span class="Apple-converted-space">  </span>// Fase calda 1T</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 85) return 18;<span class="Apple-converted-space">                  </span>// Ultimi minuti - disperazione</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 80 &amp;&amp; elapsed &lt;= 84) return 14; // Forcing finale</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 75 &amp;&amp; elapsed &lt;= 79) return 10; // Ultimi 15 min</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 55 &amp;&amp; elapsed &lt;= 60) return 8;<span class="Apple-converted-space">  </span>// Inizio 2T - cambi tattici</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === FATTORE SVANTAGGIO (squadra sotto attacca) ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const getDisadvantageBoost = (homeGoals, awayGoals, elapsed) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const diff = Math.abs(homeGoals - awayGoals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (diff === 0) return 0; // Pareggio</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Squadra sotto di 1 gol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (diff === 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 75) return 18; // Ultimi 15 min, spinta massima</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 65) return 12;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 55) return 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Squadra sotto di 2 gol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (diff === 2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 70) return 10; // Ancora possibile rimonta</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 60) return 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return 0; // Troppo presto o partita chiusa</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return 0; // 3+ gol di differenza = partita chiusa</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === ANALISI PARTITE ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveMatches.forEach(match =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const elapsed = match.elapsed || 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const homeGoals = match.goals?.home || 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const awayGoals = match.goals?.away || 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const totalGoals = homeGoals + awayGoals;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const isFirstHalf = match.status === '1H';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const isSecondHalf = match.status === '2H';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const isHalfTime = match.status === 'HT';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Estrai ID campionato</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const leagueId = match.league?.id || 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const leagueInfo = HIGH_SCORING_LEAGUES[leagueId];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const leagueBoost = leagueInfo ? leagueInfo.boost : 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Calcola boost dinamici</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const hotMomentBoost = getHotMomentBoost(elapsed, isFirstHalf);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const disadvantageBoost = getDisadvantageBoost(homeGoals, awayGoals, elapsed);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Estrai statistiche</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let stats = {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>shotsHome: 0, shotsAway: 0, shots: 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>shotsOnHome: 0, shotsOnAway: 0, shotsOn: 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>cornersHome: 0, cornersAway: 0, corners: 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>possessionHome: 50, possessionAway: 50,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>hasStats: false</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (match.stats &amp;&amp; match.stats.length &gt;= 2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const homeStats = match.stats[0]?.statistics || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const awayStats = match.stats[1]?.statistics || [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const getStat = (arr, type) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const s = arr.find(s =&gt; s.type === type);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return s ? (parseInt(s.value) || 0) : 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.shotsHome = getStat(homeStats, 'Total Shots');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.shotsAway = getStat(awayStats, 'Total Shots');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.shotsOnHome = getStat(homeStats, 'Shots on Goal');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.shotsOnAway = getStat(awayStats, 'Shots on Goal');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.cornersHome = getStat(homeStats, 'Corner Kicks');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.cornersAway = getStat(awayStats, 'Corner Kicks');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.possessionHome = getStat(homeStats, 'Ball Possession') || 50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.possessionAway = getStat(awayStats, 'Ball Possession') || 50;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.shots = stats.shotsHome + stats.shotsAway;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.shotsOn = stats.shotsOnHome + stats.shotsOnAway;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.corners = stats.cornersHome + stats.cornersAway;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.hasStats = (stats.shots &gt;= 1) || (stats.corners &gt;= 1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// === CALCOLO PRESSIONE OFFENSIVA ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Più alto = più probabilità di gol</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pressure = stats.hasStats<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>? (stats.shotsOn * 3) + (stats.shots * 1) + (stats.corners * 1.5)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const pressureBoost = Math.min(20, pressure * 0.8);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// === 🔥 ALERT SECONDO TEMPO 🔥 ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// ============================================</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 OVER 0.5 - Partita 0-0 (dal 50')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isSecondHalf &amp;&amp; totalGoals === 0 &amp;&amp; elapsed &gt;= 50) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 45;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Base: tempo trascorso</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += (elapsed - 45) * 0.8;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Boost dinamici</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// 0-0 tardi = alta pressione</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 70) prob += 12;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 80) prob += 10;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(94, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 58) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const leagueTag = leagueInfo ? ` [${leagueInfo.name}]` : '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'over05',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 78 ? 'high' : prob &gt;= 65 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: '⚽ Over 0.5',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `0-0 al ${elapsed}'${leagueTag}${stats.hasStats ? ` | ${stats.shotsOn} tiri in porta` : ''}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost, hotMomentBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 OVER 1.5 - Partita con 0-1 gol (dal 50')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isSecondHalf &amp;&amp; totalGoals &lt;= 1 &amp;&amp; elapsed &gt;= 50 &amp;&amp; elapsed &lt;= 85) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 35;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += (elapsed - 45) * 0.6;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += disadvantageBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost * 0.8;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (totalGoals === 1) prob += 15;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 65) prob += 6;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 75) prob += 6;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// 1-1 apertissima</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 1 &amp;&amp; awayGoals === 0 &amp;&amp; elapsed &gt;= 70) prob += 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 0 &amp;&amp; awayGoals === 1 &amp;&amp; elapsed &gt;= 70) prob += 8;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(88, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 52) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'over15',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 72 ? 'high' : prob &gt;= 60 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: '⚽⚽ Over 1.5',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `${homeGoals}-${awayGoals} al ${elapsed}'${disadvantageBoost &gt; 0 ? ' | Squadra sotto spinge!' : ''}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost, hotMomentBoost, disadvantageBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 OVER 2.5 - Partita con gol (dal 48')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isSecondHalf &amp;&amp; totalGoals &gt;= 1 &amp;&amp; totalGoals &lt;= 2 &amp;&amp; elapsed &gt;= 48 &amp;&amp; elapsed &lt;= 83) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 30;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += totalGoals * 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += disadvantageBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost * 0.7;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Situazioni specifiche</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 1 &amp;&amp; awayGoals === 1) prob += 18; // 1-1 = APERTA</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 2 &amp;&amp; awayGoals === 0) prob += 10; // 2-0 = ospite spingerà</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 0 &amp;&amp; awayGoals === 2) prob += 10; // 0-2 = casa spingerà</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 2 &amp;&amp; awayGoals === 1) prob += 12; // 2-1 vivace</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 1 &amp;&amp; awayGoals === 2) prob += 12; // 1-2 vivace</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 60) prob += 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 70) prob += 5;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(85, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 50) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const situation = (homeGoals === 1 &amp;&amp; awayGoals === 1) ? '🔥 Partita APERTA!' :<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                             </span>(Math.abs(homeGoals - awayGoals) &gt;= 1) ? '⚡ Squadra sotto attacca!' : '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'over25',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 70 ? 'high' : prob &gt;= 58 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: '⚽⚽⚽ Over 2.5',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `${homeGoals}-${awayGoals} al ${elapsed}' ${situation}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost, hotMomentBoost, disadvantageBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 OVER 3.5 - Partita ricca di gol (dal 50')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isSecondHalf &amp;&amp; totalGoals &gt;= 2 &amp;&amp; totalGoals &lt;= 3 &amp;&amp; elapsed &gt;= 50 &amp;&amp; elapsed &lt;= 82) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 28;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += totalGoals * 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost * 0.6;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if ((homeGoals === 2 &amp;&amp; awayGoals === 1) || (homeGoals === 1 &amp;&amp; awayGoals === 2)) prob += 15;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (homeGoals === 2 &amp;&amp; awayGoals === 2) prob += 12;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (totalGoals === 3 &amp;&amp; elapsed &gt;= 60) prob += 8;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(80, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 50) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'over35',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 68 ? 'high' : prob &gt;= 55 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: '⚽⚽⚽⚽ Over 3.5',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `🔥 Già ${totalGoals} gol! ${homeGoals}-${awayGoals} al ${elapsed}'`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost, hotMomentBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 GOL 2° TEMPO (all'intervallo)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isHalfTime) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 52;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (totalGoals === 0) prob += 18; // 0-0 = pressione massima</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (totalGoals === 1) prob += 12;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (stats.hasStats &amp;&amp; stats.shotsOn &gt;= 3) prob += 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (stats.hasStats &amp;&amp; stats.shotsOn &gt;= 5) prob += 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (stats.hasStats &amp;&amp; stats.corners &gt;= 5) prob += 5;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(90, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 58) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'goal2T',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 78 ? 'high' : prob &gt;= 65 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: totalGoals === 0 ? '⚽ Gol 2°T' : '⚽ Altro Gol',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `${homeGoals}-${awayGoals} HT${stats.hasStats ? ` | ${stats.shotsOn} tiri, ${stats.corners} corner` : ''}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// === 🔥 ALERT PRIMO TEMPO 🔥 ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// ============================================</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 OVER 0.5 1°T (dal 25')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isFirstHalf &amp;&amp; totalGoals === 0 &amp;&amp; elapsed &gt;= 25 &amp;&amp; elapsed &lt;= 45) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 38;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += (elapsed - 20) * 1.5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Fine primo tempo = boost extra</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 40) prob += 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 43) prob += 10;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(88, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 55) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'over05_1T',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 72 ? 'high' : prob &gt;= 60 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: '⚽ Over 0.5 1°T',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `0-0 al ${elapsed}'${elapsed &gt;= 40 ? ' ⏰ Fine 1T vicina!' : ''}${stats.hasStats ? ` | ${stats.shotsOn} tiri` : ''}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost, hotMomentBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 🎯 OVER 1.5 1°T - Se già 1 gol (dal 20')</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (isFirstHalf &amp;&amp; totalGoals === 1 &amp;&amp; elapsed &gt;= 20 &amp;&amp; elapsed &lt;= 45) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>let prob = 35;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += (elapsed - 15) * 1.2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += pressureBoost * 0.8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob += disadvantageBoost;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 35) prob += 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (elapsed &gt;= 42) prob += 10;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>prob = Math.min(82, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (prob &gt;= 50) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>match, type: 'over15_1T',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>level: prob &gt;= 68 ? 'high' : prob &gt;= 55 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>pick: '⚽⚽ Over 1.5 1°T',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>reason: `${homeGoals}-${awayGoals} al ${elapsed}'${elapsed &gt;= 40 ? ' ⏰ Fine 1T!' : ''}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>stats, leagueBoost, hotMomentBoost, disadvantageBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// === 🏠✈️ SQUADRA SEGNA (con stats) ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// ============================================</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (stats.hasStats &amp;&amp; elapsed &gt;= 20) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// 🏠 Casa domina</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (stats.shotsOnHome &gt;= 3 &amp;&amp; stats.shotsOnHome &gt; stats.shotsOnAway * 1.5 &amp;&amp; homeGoals === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let prob = 45;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob += stats.shotsOnHome * 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (elapsed &gt;= 50) prob += 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (elapsed &gt;= 70) prob += 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (stats.cornersHome &gt;= 4) prob += 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob = Math.min(88, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (prob &gt;= 58) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>match, type: 'homeScores',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>level: prob &gt;= 75 ? 'high' : prob &gt;= 62 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>pick: `🏠 ${match.home.name.substring(0,12)} Segna`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>reason: `Dominio: ${stats.shotsOnHome} tiri in porta vs ${stats.shotsOnAway}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>stats, leagueBoost, hotMomentBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// ✈️ Ospite domina</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (stats.shotsOnAway &gt;= 3 &amp;&amp; stats.shotsOnAway &gt; stats.shotsOnHome * 1.5 &amp;&amp; awayGoals === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let prob = 42;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob += stats.shotsOnAway * 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob += leagueBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob += hotMomentBoost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (elapsed &gt;= 50) prob += 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (elapsed &gt;= 70) prob += 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (stats.cornersAway &gt;= 4) prob += 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>prob = Math.min(85, prob);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (prob &gt;= 55) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>alerts.push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>match, type: 'awayScores',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>level: prob &gt;= 72 ? 'high' : prob &gt;= 60 ? 'medium' : 'low',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>pick: `✈️ ${match.away.name.substring(0,12)} Segna`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>prob: prob.toFixed(0),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>quota: (100 / prob).toFixed(2),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>reason: `Dominio: ${stats.shotsOnAway} tiri in porta vs ${stats.shotsOnHome}`,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>stats, leagueBoost, hotMomentBoost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// === ORDINAMENTO E FILTRO FINALE ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// ============================================</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina: HIGH prima, poi per probabilità</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>alerts.sort((a, b) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const levelOrder = { high: 0, medium: 1, low: 2 };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (levelOrder[a.level] !== levelOrder[b.level]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>return levelOrder[a.level] - levelOrder[b.level];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return parseFloat(b.prob) - parseFloat(a.prob);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Max 2 alert per partita (i migliori)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const alertsFiltered = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const matchAlertCount = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>alerts.forEach(alert =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const matchId = alert.match.id;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>matchAlertCount[matchId] = (matchAlertCount[matchId] || 0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (matchAlertCount[matchId] &lt; 2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>alertsFiltered.push(alert);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>matchAlertCount[matchId]++;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveAlerts = alertsFiltered;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === LIVE BACKGROUND MONITORING ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function startLiveBackgroundMonitoring() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Carica subito i dati LIVE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>loadLiveMatchesBackground();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Poi ogni 90 secondi in background</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveBackgroundInterval = setInterval(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>loadLiveMatchesBackground();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}, 90000); // 90 secondi in background</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function loadLiveMatchesBackground() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await callAPIFootball('/fixtures', { live: 'all' });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (data &amp;&amp; data.response) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.liveMatches = data.response.map(f =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>id: f.fixture.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>status: f.fixture.status.short,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>elapsed: f.fixture.status.elapsed || 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>league: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>id: f.league.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>name: f.league.name,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>country: f.league.country,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>logo: f.league.logo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>home: { id: f.teams.home.id, name: f.teams.home.name, logo: f.teams.home.logo },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>away: { id: f.teams.away.id, name: f.teams.away.name, logo: f.teams.away.logo },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>goals: { home: f.goals.home || 0, away: f.goals.away || 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>stats: f.statistics || []</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Calcola gli alert</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>calculateLiveAlerts();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>// Aggiorna solo il badge senza re-renderizzare tutto</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>updateLiveBadge();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Live background load error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function updateLiveBadge() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const badge = document.querySelector('#liveTab');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (badge) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const alertCount = state.liveAlerts.length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const dot = '&lt;span class="live-dot"&gt;&lt;/span&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const countBadge = alertCount &gt; 0 ? `&lt;span class="live-badge-count"&gt;${alertCount}&lt;/span&gt;` : '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>badge.innerHTML = `${dot} LIVE ${countBadge}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function startLiveAutoRefresh() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.liveInterval) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Countdown visivo</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveCountdown = 60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.countdownInterval = setInterval(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.liveCountdown--;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const countdownEl = document.querySelector('.live-countdown');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (countdownEl) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>countdownEl.textContent = state.liveCountdown + 's';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (state.liveCountdown &lt;= 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.liveCountdown = 60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}, 1000);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Refresh dati ogni 60 secondi quando nella sezione LIVE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveInterval = setInterval(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (state.liveMode) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>loadLiveMatches();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.liveCountdown = 60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}, 60000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function stopLiveAutoRefresh() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.liveInterval) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>clearInterval(state.liveInterval);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.liveInterval = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.countdownInterval) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>clearInterval(state.countdownInterval);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.countdownInterval = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function toggleConsigliMode() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.consigliMode = !state.consigliMode;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveMode = false; // Disattiva live mode</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function toggleLiveMode() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.liveMode = !state.liveMode;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.liveMode) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>loadLiveMatches();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>startLiveAutoRefresh();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>stopLiveAutoRefresh();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === TRACKING PRONOSTICI ===</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function trackBet(type, matchId, matchName, pick, prob, odds, isLive = false) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Evita duplicati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.trackedBets.some(b =&gt; b.matchId === matchId &amp;&amp; b.pick === pick)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.log('Pronostico già tracciato');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bet = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>id: Date.now(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>type, // 'prematch' o 'live'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>matchId,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>matchName,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pick,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>prob: parseFloat(prob),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>odds: parseFloat(odds) || 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>isLive,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>timestamp: new Date().toISOString(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>status: 'pending', // pending, won, lost</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>result: null</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.trackedBets.push(bet);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveTrackedBets();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Salva anche su Firebase</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveTrackingToFirebase();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return bet;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Funzione per tracciare pronostici pre-match</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function trackPrematchBet(matchId, matchName, pick, prob, event) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (event) event.stopPropagation();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Stima quota basata sulla probabilità</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const odds = (100 / prob).toFixed(2);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bet = trackBet('prematch', matchId, matchName, pick, prob, odds, false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bet) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alert(`✅ Pronostico tracciato!\n\n${matchName}\n${pick} @ ${odds}\n\nVerrà verificato automaticamente a fine partita.`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alert('⚠️ Questo pronostico è già stato tracciato.');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Funzione per tracciare pronostici LIVE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function trackLiveBet(matchId, matchName, pick, prob, odds, event) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (event) event.stopPropagation();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bet = trackBet('live', matchId, matchName, pick, prob, odds, true);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bet) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alert(`✅ Pronostico LIVE tracciato!\n\n${matchName}\n${pick} @ ${odds}\n\nVerrà verificato automaticamente a fine partita.`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alert('⚠️ Questo pronostico LIVE è già stato tracciato.');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function updateBetResult(betId, status, result) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bet = state.trackedBets.find(b =&gt; b.id === betId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bet) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>bet.status = status;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>bet.result = result;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveTrackedBets();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveTrackingToFirebase();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveTrackedBets() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('bp2_tracked', JSON.stringify(state.trackedBets));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function saveTrackingToFirebase() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>await fetch(`${CONFIG.FIREBASE.url}/tracking2/${USER_ID}.json`, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>method: 'PUT',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>body: JSON.stringify(state.trackedBets)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Firebase tracking save error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function loadTrackingFromFirebase() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const res = await fetch(`${CONFIG.FIREBASE.url}/tracking2/${USER_ID}.json`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const data = await res.json();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (data &amp;&amp; Array.isArray(data)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.trackedBets = data;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>saveTrackedBets();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.warn('Firebase tracking load error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function checkPendingResults() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const pending = state.trackedBets.filter(b =&gt; b.status === 'pending');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (const bet of pending) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const data = await callAPIFootball('/fixtures', { id: bet.matchId });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (data &amp;&amp; data.response &amp;&amp; data.response[0]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const fixture = data.response[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const status = fixture.fixture.status.short;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Solo se la partita è finita</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (['FT', 'AET', 'PEN'].includes(status)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const homeGoals = fixture.goals.home;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const awayGoals = fixture.goals.away;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const totalGoals = homeGoals + awayGoals;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const result = `${homeGoals}-${awayGoals}`;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">              </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// Verifica se ha vinto</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>let won = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const pick = bet.pick.toLowerCase();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">              </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// Over/Under</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>if (pick.includes('over 0.5') &amp;&amp; totalGoals &gt;= 1) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('over 1.5') &amp;&amp; totalGoals &gt;= 2) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('over 2.5') &amp;&amp; totalGoals &gt;= 3) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('over 3.5') &amp;&amp; totalGoals &gt;= 4) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('under 2.5') &amp;&amp; totalGoals &lt; 3) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('under 3.5') &amp;&amp; totalGoals &lt; 4) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// GG/NG</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if ((pick.includes('gg') || pick.includes('entrambe segnano')) &amp;&amp; homeGoals &gt; 0 &amp;&amp; awayGoals &gt; 0) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('ng') &amp;&amp; (homeGoals === 0 || awayGoals === 0)) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// 1X2 - con supporto per formato esteso "(Vittoria Casa)" ecc.</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if ((pick === '1' || pick.startsWith('1 (') || pick.startsWith('1 ')) &amp;&amp; homeGoals &gt; awayGoals) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if ((pick === 'x' || pick.startsWith('x (') || pick === 'pareggio') &amp;&amp; homeGoals === awayGoals) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if ((pick === '2' || pick.startsWith('2 (') || pick.startsWith('2 ')) &amp;&amp; homeGoals &lt; awayGoals) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// Doppie chance</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if ((pick === '1x' || pick.startsWith('1x (') || pick.startsWith('1x ')) &amp;&amp; homeGoals &gt;= awayGoals) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if ((pick === 'x2' || pick.startsWith('x2 (') || pick.startsWith('x2 ')) &amp;&amp; homeGoals &lt;= awayGoals) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>// Segna</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('segna') &amp;&amp; totalGoals &gt; 0) won = true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>else if (pick.includes('gol 2°') &amp;&amp; totalGoals &gt; 0) won = true;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">              </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>updateBetResult(bet.id, won ? 'won' : 'lost', result);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} catch (e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>console.warn('Check result error:', e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function getTrackingStats() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stats = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>total: state.trackedBets.length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>pending: state.trackedBets.filter(b =&gt; b.status === 'pending').length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>won: state.trackedBets.filter(b =&gt; b.status === 'won').length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>lost: state.trackedBets.filter(b =&gt; b.status === 'lost').length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>byType: {},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>byPick: {}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Win rate</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const completed = stats.won + stats.lost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>stats.winRate = completed &gt; 0 ? ((stats.won / completed) * 100).toFixed(1) : 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Per tipo (prematch vs live)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>['prematch', 'live'].forEach(type =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const bets = state.trackedBets.filter(b =&gt; b.type === type);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const won = bets.filter(b =&gt; b.status === 'won').length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const lost = bets.filter(b =&gt; b.status === 'lost').length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const total = won + lost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>stats.byType[type] = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>total: bets.length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>won,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>lost,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>winRate: total &gt; 0 ? ((won / total) * 100).toFixed(1) : 0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Per tipo di pick</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const pickTypes = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'over 0.5', label: 'Over 0.5' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'over 1.5', label: 'Over 1.5' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'over 2.5', label: 'Over 2.5' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'over 3.5', label: 'Over 3.5' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'under', label: 'Under' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'gg', label: 'GG' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'entrambe segnano', label: 'GG' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: '1 (', label: '1 (Vittoria Casa)' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: '2 (', label: '2 (Vittoria Ospite)' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: '1x', label: '1X' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'x2', label: 'X2' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>{ key: 'pareggio', label: 'X (Pareggio)' }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>pickTypes.forEach(pickType =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const bets = state.trackedBets.filter(b =&gt; b.pick.toLowerCase().includes(pickType.key));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const won = bets.filter(b =&gt; b.status === 'won').length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const lost = bets.filter(b =&gt; b.status === 'lost').length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const total = won + lost;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (bets.length &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>stats.byPick[pickType.label] = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>total: bets.length,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>won,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>lost,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>winRate: total &gt; 0 ? ((won / total) * 100).toFixed(1) : 0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return stats;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function clearOldTrackedBets() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Rimuove bet completati più vecchi di 30 giorni</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const thirtyDaysAgo = Date.now() - (30 * 24 * 60 * 60 * 1000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.trackedBets = state.trackedBets.filter(b =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (b.status === 'pending') return true;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return new Date(b.timestamp).getTime() &gt; thirtyDaysAgo;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveTrackedBets();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === RENDER ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function render() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('app').innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>${renderHeader()}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;main class="main"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${state.loading ? renderLoading() :</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>state.view === 'leagues' ? renderLeagues() :</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>state.view === 'matches' ? renderMatches() :</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderAnalysis()}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/main&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>${renderSlipFloating()}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>${state.slipModal ? renderSlipModal() : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>attachEvents();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderHeader() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;header class="header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="header-inner"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="brand"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="brand-icon"&gt;⚽&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="brand-name"&gt;BettingPro&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="header-right"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="status-bar"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="status-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="status-dot ${state.api.football}"&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span&gt;API&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="status-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="status-dot ${state.api.footystats}"&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span&gt;Stats&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="settings-btn" onclick="toggleSettingsPanel()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>⚙️ &lt;span style="display:none"&gt;Impostazioni&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="slip-badge" id="openSlip"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>🎫 ${state.slip.length} pronostici</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/header&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>${renderSettingsPanel()}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderSettingsPanel() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const s = state.settings;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stats = getTrackingStats();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="settings-overlay ${state.settingsOpen ? 'open' : ''}" onclick="toggleSettingsPanel()"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="settings-panel ${state.settingsOpen ? 'open' : ''}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="settings-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="settings-title"&gt;⚙️ Impostazioni&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button class="settings-close" onclick="toggleSettingsPanel()"&gt;×&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="settings-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="settings-section-title"&gt;📊 Win Rate per Segno&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${renderWinRateByPick(stats)}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="settings-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="settings-section-title"&gt;🔧 Funzionalità&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="settings-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="settings-label"&gt;Mostra Classifica&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="settings-toggle ${s.showStandings ? 'active' : ''}"<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>onclick="toggleSetting('showStandings')"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="settings-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="settings-label"&gt;Mostra Infortunati&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="settings-toggle ${s.showInjuries ? 'active' : ''}"<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>onclick="toggleSetting('showInjuries')"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="settings-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="settings-label"&gt;Auto-refresh LIVE&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="settings-toggle ${s.autoRefresh ? 'active' : ''}"<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>onclick="toggleSetting('autoRefresh')"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="settings-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="settings-section-title"&gt;📈 Storico Ultimi Pronostici&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${renderHistoryChart()}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="settings-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button class="btn btn-secondary" style="width:100%" onclick="resetAllData()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>🗑️ Reset tutti i dati</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderWinRateByPick(stats) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const picks = Object.entries(stats.byPick);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (picks.length === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return '&lt;div style="text-align:center; color:var(--text-dark); padding:20px;"&gt;Nessun pronostico tracciato&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Ordina per numero di giocate</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>picks.sort((a, b) =&gt; b[1].total - a[1].total);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="winrate-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${picks.map(([label, data]) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="winrate-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="winrate-label"&gt;${label}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="winrate-stats"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="winrate-played"&gt;${data.total} giocate&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="winrate-won"&gt;✅ ${data.won}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="winrate-lost"&gt;❌ ${data.lost}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="winrate-bar"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="winrate-bar-fill ${parseFloat(data.winRate) &gt;= 50 ? 'good' : 'bad'}"<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>style="width: ${data.winRate}%"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="winrate-percent"&gt;${data.winRate}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="winrate-summary"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="winrate-summary-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;Totale&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;strong&gt;${stats.total}&lt;/strong&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="winrate-summary-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;Vinte&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;strong style="color: var(--accent-green)"&gt;${stats.won}&lt;/strong&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="winrate-summary-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;Perse&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;strong style="color: var(--accent-red)"&gt;${stats.lost}&lt;/strong&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="winrate-summary-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;Win Rate&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;strong style="color: var(--accent-cyan)"&gt;${stats.winRate}%&lt;/strong&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderHistoryChart() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const bets = state.trackedBets.filter(b =&gt; b.status !== 'pending').slice(-20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (bets.length === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return '&lt;div style="text-align:center; color:var(--text-dark); padding:20px;"&gt;Nessun pronostico verificato&lt;/div&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const maxHeight = 60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="history-chart"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="history-bars"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${bets.map(b =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="history-bar ${b.status}" style="height: ${maxHeight}px" title="${b.match}: ${b.pick} - ${b.status === 'won' ? 'VINTO' : 'PERSO'}"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="history-labels"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;Ultimi ${bets.length} pronostici&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span style="color: var(--accent-green)"&gt;${bets.filter(b =&gt; b.status === 'won').length}V&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span style="color: var(--accent-red)"&gt;${bets.filter(b =&gt; b.status === 'lost').length}P&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function toggleSetting(key) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>state.settings[key] = !state.settings[key];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveSettings();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function resetAllData() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (confirm('Sei sicuro di voler cancellare TUTTI i dati? (pronostici, impostazioni, statistiche)')) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.removeItem('bp2_tracked');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.removeItem('bp2_settings');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.removeItem('bp2_history');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.removeItem('bp2_bankroll');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.removeItem('bp2_slip');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.trackedBets = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.slip = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.settings = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>thresholds: { '1': 50, 'X': 28, '2': 50, 'GG': 55, 'Over 2.5': 50, 'Over 1.5': 65 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>showInjuries: true, showStandings: true, autoRefresh: true</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alert('✅ Tutti i dati sono stati cancellati');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Filtra campionati e squadre</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderLoading() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `&lt;div class="loading"&gt;&lt;div class="spinner"&gt;&lt;/div&gt;&lt;div class="loading-text"&gt;Caricamento...&lt;/div&gt;&lt;/div&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderLeagues() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const picks = state.dailyPicks;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const money = getMoneyStats();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="date-tabs"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="date-tab consigli-tab ${state.consigliMode ? 'active' : ''}" id="consigliTab"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span style="color: var(--accent-gold);"&gt;💡&lt;/span&gt; CONSIGLI ${(picks.gg.length + picks.vittorieCasa.length + picks.vittorieOspite.length + picks.pareggi.length) &gt; 0 ? `&lt;span class="live-badge-count"&gt;${picks.gg.length + picks.vittorieCasa.length + picks.vittorieOspite.length + picks.pareggi.length}&lt;/span&gt;` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${[-1, 0, 1, 2].map(d =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="date-tab ${!state.consigliMode &amp;&amp; state.selectedDate === d ? 'active' : ''}" data-date="${d}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${getDateLabel(d)} ${d !== 0 ? `(${formatDate(getDateString(d))})` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>${state.consigliMode ? renderConsigliSection() : `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- SELEZIONA CAMPIONATO - SPOSTATO IN ALTO --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="panel" style="margin-bottom: 16px;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="panel-title"&gt;📋 Seleziona Campionato (${state.matches.length} partite)&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${state.leagues.length === 0 ? `&lt;div class="empty"&gt;&lt;div class="empty-icon"&gt;📭&lt;/div&gt;Nessuna partita&lt;/div&gt;` : `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;select class="select-field" id="leagueSelect"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;option value=""&gt;-- Scegli un campionato --&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${state.leagues.map(l =&gt; `&lt;option value="${l.id}"&gt;${esc(l.country)} - ${esc(l.name)} (${l.matchCount})&lt;/option&gt;`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- HOME SECTIONS - PICKS DEL GIORNO (RIMOSSI TOP 20) --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === SEZIONE CONSIGLI DEL GIORNO ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderConsigliSection() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const picks = state.dailyPicks;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totalPicks = picks.gg.length + picks.vittorieCasa.length + picks.vittorieOspite.length + picks.pareggi.length + picks.over25.length;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="consigli-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="consigli-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-title"&gt;&lt;span style="color: var(--accent-gold);"&gt;💡&lt;/span&gt; Consigli del Giorno IA&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-badge"&gt;${totalPicks} pronostici selezionati&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${totalPicks === 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="live-empty"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="live-empty-icon"&gt;📊&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div&gt;Nessun consiglio disponibile&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div style="font-size: 0.8rem; margin-top: 8px; color: var(--text-dark);"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>Carica le partite di oggi per vedere i consigli IA</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>` : `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- TOP 20 GG DEL GIORNO --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${picks.gg.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-category"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-category-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-icon"&gt;⚽&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-title"&gt;Top 20 GG del Giorno&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-count"&gt;${picks.gg.length} picks&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${picks.gg.slice(0, 20).map((p, idx) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="consiglio-card" onclick="selectMatch(${p.match.id})"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-rank"&gt;${idx + 1}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-match"&gt;${esc(p.match.home.name)} vs ${esc(p.match.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-league"&gt;${p.time} • xG: ${p.xgTotal || 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-bet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-value"&gt;GG&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-prob"&gt;${p.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : ''}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- TOP 20 OVER 2.5 DEL GIORNO --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${picks.over25.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-category"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-category-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-icon"&gt;🔥&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-title"&gt;Top 20 Over 2.5&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-count"&gt;${picks.over25.length} picks&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${picks.over25.slice(0, 20).map((p, idx) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="consiglio-card" onclick="selectMatch(${p.match.id})"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-rank"&gt;${idx + 1}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-match"&gt;${esc(p.match.home.name)} vs ${esc(p.match.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-league"&gt;${p.time} • xG: ${p.xgTotal}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-bet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-value"&gt;O 2.5&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-prob"&gt;${p.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : ''}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- TOP 20 VITTORIE CASA --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${picks.vittorieCasa.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-category"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-category-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-icon"&gt;🏠&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-title"&gt;Top 20 Vittorie Casa (1)&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-count"&gt;${picks.vittorieCasa.length} picks&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${picks.vittorieCasa.slice(0, 20).map((p, idx) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="consiglio-card" onclick="selectMatch(${p.match.id})"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-rank"&gt;${idx + 1}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-match"&gt;${esc(p.match.home.name)} vs ${esc(p.match.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-league"&gt;${p.time} • xG: ${p.homeXG || 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-bet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-value"&gt;1&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-prob"&gt;${p.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : ''}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- TOP 20 VITTORIE OSPITE --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${picks.vittorieOspite.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-category"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-category-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-icon"&gt;✈️&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-title"&gt;Top 20 Vittorie Ospite (2)&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-count"&gt;${picks.vittorieOspite.length} picks&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${picks.vittorieOspite.slice(0, 20).map((p, idx) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="consiglio-card" onclick="selectMatch(${p.match.id})"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-rank"&gt;${idx + 1}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-match"&gt;${esc(p.match.home.name)} vs ${esc(p.match.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-league"&gt;${p.time} • xG: ${p.awayXG || 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-bet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-value"&gt;2&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-prob"&gt;${p.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : ''}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- MIGLIORI X DEL GIORNO --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${picks.pareggi.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="consigli-category"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-category-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-icon"&gt;🎲&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-title"&gt;Migliori X del Giorno (partite equilibrate)&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="consigli-category-count"&gt;${picks.pareggi.length} picks&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="consigli-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${picks.pareggi.slice(0, 15).map((p, idx) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="consiglio-card" onclick="selectMatch(${p.match.id})"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-rank"&gt;${idx + 1}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-match"&gt;${esc(p.match.home.name)} vs ${esc(p.match.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="consiglio-league"&gt;${p.time} • ${esc(p.league)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="consiglio-bet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-value"&gt;X&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;span class="consiglio-prob"&gt;${p.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderLiveSection() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.liveLoading) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="live-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="live-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="live-title"&gt;&lt;span class="live-dot"&gt;&lt;/span&gt; LIVE Alerts&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="loading"&gt;&lt;div class="spinner"&gt;&lt;/div&gt;&lt;div class="loading-text"&gt;Caricamento partite live...&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const alerts = state.liveAlerts;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="live-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="live-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="live-title"&gt;&lt;span class="live-dot"&gt;&lt;/span&gt; LIVE Alerts&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div style="display: flex; align-items: center; gap: 12px;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="live-auto-refresh"&gt;🔄 Auto-refresh &lt;span class="live-countdown"&gt;${state.liveCountdown}s&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="live-refresh-btn" id="refreshLive"&gt;⟳ Aggiorna&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${alerts.length === 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="live-empty"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="live-empty-icon"&gt;📡&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div&gt;Nessun alert al momento&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div style="font-size: 0.8rem; margin-top: 8px; color: var(--text-dark);"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${state.liveMatches.length} partite live monitorate</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>` : `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="live-alerts-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${alerts.map(alert =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="live-alert-card ${alert.level}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="live-alert-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="live-alert-level"&gt;${alert.level === 'high' ? '🚨 ALERT ALTO' : alert.level === 'medium' ? '⚠️ ALERT MEDIO' : '🔵 INFO'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="live-alert-time"&gt;&lt;span class="live-dot"&gt;&lt;/span&gt; ${alert.match.elapsed}'&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="live-alert-body"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="live-alert-match"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-alert-teams"&gt;${esc(alert.match.home.name)} vs ${esc(alert.match.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-alert-score"&gt;${alert.match.goals.home} - ${alert.match.goals.away}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="live-alert-stats"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-stat"&gt;🎯 Tiri in porta: &lt;strong&gt;${alert.stats.shotsOnHome || 0}-${alert.stats.shotsOnAway || 0}&lt;/strong&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-stat"&gt;⚽ Tiri totali: &lt;strong&gt;${alert.stats.shotsHome || 0}-${alert.stats.shotsAway || 0}&lt;/strong&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-stat"&gt;🚩 Corner: &lt;strong&gt;${alert.stats.cornersHome || 0}-${alert.stats.cornersAway || 0}&lt;/strong&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-stat"&gt;📊 Possesso: &lt;strong&gt;${alert.stats.possessionHome || 50}%-${alert.stats.possessionAway || 50}%&lt;/strong&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="live-alert-pick"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-pick-label"&gt;CONSIGLIO LIVE&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-pick-value"&gt;${alert.pick}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-pick-details"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="live-pick-prob"&gt;📈 ${alert.prob}% prob&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span style="color: var(--accent-yellow);"&gt;💰 ~@${alert.quota}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;div class="live-pick-reason"&gt;💡 ${alert.reason}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;button class="live-track-btn ${state.trackedBets.some(b =&gt; b.matchId === alert.match.id &amp;&amp; b.isLive) ? 'tracked' : ''}"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                              </span>onclick="trackLiveBet(${alert.match.id}, '${esc(alert.match.home.name)} vs ${esc(alert.match.away.name)}', '${esc(alert.pick)}', ${alert.prob}, ${alert.quota}, event)"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                              </span>${state.trackedBets.some(b =&gt; b.matchId === alert.match.id &amp;&amp; b.isLive) ? 'disabled' : ''}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>${state.trackedBets.some(b =&gt; b.matchId === alert.match.id &amp;&amp; b.isLive) ? '✅ Tracciato' : '🎯 GIOCATO'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                      </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>`}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border);"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div style="font-size: 0.8rem; color: var(--text-dark); margin-bottom: 8px;"&gt;📊 Statistiche Monitorate&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div style="display: flex; gap: 16px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-gray);"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span&gt;🔴 Partite LIVE: &lt;strong style="color: var(--text-white);"&gt;${state.liveMatches.length}&lt;/strong&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span&gt;🚨 Alert Alti: &lt;strong style="color: var(--accent-red);"&gt;${alerts.filter(a =&gt; a.level === 'high').length}&lt;/strong&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span&gt;⚠️ Alert Medi: &lt;strong style="color: var(--accent-yellow);"&gt;${alerts.filter(a =&gt; a.level === 'medium').length}&lt;/strong&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderMatches() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const matches = state.matches.filter(m =&gt; m.league.id === state.selectedLeague.id).sort((a, b) =&gt; a.timestamp - b.timestamp);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="back-btn" id="backToLeagues"&gt;← Campionati&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="panel"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="panel-title"&gt;⚽ ${esc(state.selectedLeague.country)} - ${esc(state.selectedLeague.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="matches-list"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${matches.map(m =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>const isLive = ['1H','2H','HT','ET','P','LIVE'].includes(m.status);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="match-item" data-id="${m.id}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="match-item-left"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="match-item-time"&gt;${isLive ? m.elapsed+"'" : formatTime(m.date)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="match-item-teams"&gt;${esc(m.home.name)} vs ${esc(m.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="match-item-badge ${isLive ? 'live' : ''}"&gt;${isLive ? 'LIVE' : formatDate(m.date)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderAnalysis() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const m = state.selectedMatch;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const d = state.analysis;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (!d) return `&lt;div class="back-btn" id="backToMatches"&gt;← Partite&lt;/div&gt;&lt;div class="empty"&gt;Errore analisi&lt;/div&gt;`;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Genera consiglio AI</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const ai = generateAIAdvice(m, d);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const stat = generateStatisticalAdvice(m, d);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="back-btn" id="backToMatches"&gt;← Partite&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="analysis-hero"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="hero-league"&gt;${esc(m.league.country)} • ${esc(m.league.name)} • ${formatDateFull(m.date)} ${formatTime(m.date)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="hero-match"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="hero-team"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${m.home.logo ? `&lt;img src="${m.home.logo}" class="hero-team-logo" onerror="this.style.display='none'"&gt;` : `&lt;div class="hero-team-logo-fallback"&gt;${getInitials(m.home.name)}&lt;/div&gt;`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-team-name"&gt;${esc(m.home.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="hero-prediction"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-score-box"&gt;${d.exactScores[0].h}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-vs"&gt;VS&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-score-box"&gt;${d.exactScores[0].a}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="hero-team"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${m.away.logo ? `&lt;img src="${m.away.logo}" class="hero-team-logo" onerror="this.style.display='none'"&gt;` : `&lt;div class="hero-team-logo-fallback"&gt;${getInitials(m.away.name)}&lt;/div&gt;`}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-team-name"&gt;${esc(m.away.name)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;!-- MG CASA / MG OSPITE sotto risultato esatto previsto --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="hero-mg-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="hero-mg-box"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-mg-label"&gt;🏠 MG ${m.home.name.split(' ')[0]}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-mg-value"&gt;${d.multigoalHome ? d.multigoalHome.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).range : 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-mg-prob"&gt;${d.multigoalHome ? d.multigoalHome.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).prob.toFixed(0) : 0}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="hero-mg-box"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-mg-label"&gt;✈️ MG ${m.away.name.split(' ')[0]}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-mg-value"&gt;${d.multigoalAway ? d.multigoalAway.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).range : 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="hero-mg-prob"&gt;${d.multigoalAway ? d.multigoalAway.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).prob.toFixed(0) : 0}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- DUAL ADVICE: AI + STATISTICAL --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="dual-advice-container"&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;!-- AI CONSIGLIO --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-advice"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-icon"&gt;🤖&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-title-group"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-title"&gt;Consiglio AI&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-subtitle"&gt;Analisi basata su xG, statistiche e probabilità&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-confidence ${ai.confidence}"&gt;${ai.confidence === 'high' ? '🎯 Alta' : ai.confidence === 'medium' ? '✓ Media' : '⚠️ Bassa'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-pick"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-pick-label"&gt;Pronostico Consigliato&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-pick-value"&gt;${ai.pick}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-pick-prob"&gt;${ai.prob.toFixed(0)}% probabilità&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-reasoning"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-reasoning-title"&gt;💡 Perché questo pronostico&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-reasoning-list"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${ai.reasons.map(r =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="ai-reason ${r.type}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ai-reason-icon"&gt;${r.type === 'positive' ? '✅' : r.type === 'negative' ? '⚠️' : '📊'}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span&gt;${r.text}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${ai.alternatives.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-alternatives"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-alt-title"&gt;Alternative valide:&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-alt-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${ai.alternatives.map(a =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="ai-alt-chip"&gt;${a.pick}&lt;span&gt;${a.prob}%&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>` : ''}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;button class="track-btn ${state.trackedBets.some(b =&gt; b.matchId === m.id &amp;&amp; b.type === 'prematch') ? 'tracked' : ''}"<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>onclick="trackPrematchBet(${m.id}, '${esc(m.home.name)} vs ${esc(m.away.name)}', '${esc(ai.pick)}', ${ai.prob.toFixed(0)}, event)"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>${state.trackedBets.some(b =&gt; b.matchId === m.id &amp;&amp; b.type === 'prematch') ? 'disabled' : ''}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${state.trackedBets.some(b =&gt; b.matchId === m.id &amp;&amp; b.type === 'prematch') ? '✅ Pronostico Tracciato' : '🎯 GIOCATO - Traccia questo pronostico'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- PRONOSTICO STATISTICO --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="statistical-advice"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-icon"&gt;📊&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-title-group"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-title" style="background: linear-gradient(135deg, var(--accent-cyan), var(--accent-green)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"&gt;Pronostico Statistico&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-subtitle"&gt;Basato solo sulla probabilità più alta&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-confidence ${stat.confidence}"&gt;${stat.confidence === 'high' ? '🎯 Alta' : stat.confidence === 'medium' ? '✓ Media' : '⚠️ Bassa'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-pick"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-pick-label"&gt;Pronostico con Prob. Massima&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-pick-value"&gt;${stat.pick}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-pick-prob"&gt;${stat.prob.toFixed(0)}% probabilità&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="ai-reasoning"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-reasoning-title"&gt;📈 Dettagli Statistici&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-reasoning-list"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-reason positive"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="ai-reason-icon"&gt;✅&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span&gt;Mercato: ${stat.market}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-reason positive"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="ai-reason-icon"&gt;📊&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span&gt;Probabilità più alta tra tutti i pronostici&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-reason neutral"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="ai-reason-icon"&gt;🔢&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span&gt;Basato su calcoli Poisson e xG&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>${stat.alternatives.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ai-alternatives"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-alt-title"&gt;Top 3 alternative:&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="ai-alt-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>${stat.alternatives.map(a =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="ai-alt-chip"&gt;${a.pick}&lt;span&gt;${a.prob}%&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;!-- TRADER VERDICT --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>${renderTraderVerdict(ai, stat, d)}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;!-- STORICO VARIAZIONI --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>${renderHistorySection(m.id)}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="combo-panel"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="combo-title"&gt;🔥 Combo Suggerite&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="combo-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.combos.map(c =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="combo-card ${isInSlip(m.id, 'combo_'+c.value) ? 'selected' : ''}" data-market="combo_${c.value}" data-value="${c.value}" data-prob="${c.prob.toFixed(0)}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="combo-value"&gt;${c.value}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="combo-stats"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="combo-prob"&gt;${c.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="combo-odds"&gt;@${c.odds}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="analysis-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="card-title-icon"&gt;📊&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span&gt;Expected Goals&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="card-title-badge"&gt;${d.xG.total.toFixed(2)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-label"&gt;${m.home.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill cyan" style="width:${(d.xG.home/3)*100}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-value"&gt;${d.xG.home.toFixed(2)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-label"&gt;${m.away.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill green" style="width:${(d.xG.away/3)*100}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-value"&gt;${d.xG.away.toFixed(2)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🎯&lt;/div&gt;&lt;span&gt;1X2&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-label"&gt;1 Casa&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill cyan" style="width:${d.p1X2.home}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-value"&gt;${d.p1X2.home.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-label"&gt;X Pari&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill yellow" style="width:${d.p1X2.draw}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-value"&gt;${d.p1X2.draw.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-label"&gt;2 Ospite&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill purple" style="width:${d.p1X2.away}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-value"&gt;${d.p1X2.away.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;⚽&lt;/div&gt;&lt;span&gt;Over/Under &amp; GG&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${[1.5, 2.5, 3.5].map(l =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-label"&gt;O/U ${l}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill cyan" style="width:${d.pOU[l].over}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-value"&gt;${d.pOU[l].over.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-label"&gt;GG&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill green" style="width:${d.pBTTS}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;span class="prob-value"&gt;${d.pBTTS.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🚩&lt;/div&gt;&lt;span&gt;Corner&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="stat-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="stat-box"&gt;&lt;div class="stat-box-label"&gt;Casa&lt;/div&gt;&lt;div class="stat-box-value"&gt;${d.corners.home.toFixed(1)}&lt;/div&gt;&lt;div class="stat-box-sub"&gt;media&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="stat-box"&gt;&lt;div class="stat-box-label"&gt;Tot&lt;/div&gt;&lt;div class="stat-box-value"&gt;${d.corners.total.toFixed(1)}&lt;/div&gt;&lt;div class="stat-box-sub"&gt;media&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="stat-box"&gt;&lt;div class="stat-box-label"&gt;Ospite&lt;/div&gt;&lt;div class="stat-box-value"&gt;${d.corners.away.toFixed(1)}&lt;/div&gt;&lt;div class="stat-box-sub"&gt;media&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ou-lines" style="margin-top: 12px;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${d.corners.probs ? Object.entries(d.corners.probs).map(([line, p]) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="ou-line-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ou-line-label"&gt;Corner ${line}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ou-line-over ${p.over &gt;= 55 ? 'highlight' : ''}"&gt;O ${p.over.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ou-line-under ${p.under &gt;= 55 ? 'highlight' : ''}"&gt;U ${p.under.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('') : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🟨&lt;/div&gt;&lt;span&gt;Cartellini&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="stat-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="stat-box"&gt;&lt;div class="stat-box-label"&gt;Casa&lt;/div&gt;&lt;div class="stat-box-value"&gt;${d.cards.home.toFixed(1)}&lt;/div&gt;&lt;div class="stat-box-sub"&gt;media&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="stat-box"&gt;&lt;div class="stat-box-label"&gt;Tot&lt;/div&gt;&lt;div class="stat-box-value"&gt;${d.cards.total.toFixed(1)}&lt;/div&gt;&lt;div class="stat-box-sub"&gt;media&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="stat-box"&gt;&lt;div class="stat-box-label"&gt;Ospite&lt;/div&gt;&lt;div class="stat-box-value"&gt;${d.cards.away.toFixed(1)}&lt;/div&gt;&lt;div class="stat-box-sub"&gt;media&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="ou-lines" style="margin-top: 12px;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${d.cards.probs ? Object.entries(d.cards.probs).map(([line, p]) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="ou-line-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ou-line-label"&gt;Carte ${line}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ou-line-over ${p.over &gt;= 55 ? 'highlight' : ''}"&gt;O ${p.over.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="ou-line-under ${p.under &gt;= 55 ? 'highlight' : ''}"&gt;U ${p.under.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('') : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;!-- SEZIONE SCOMMESSE SPECIALI --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card wide"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🎰&lt;/div&gt;&lt;span&gt;Multigoal Range&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="multigoal-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${d.multigoal ? d.multigoal.slice(0, 6).map((mg, i) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="multigoal-box ${i === 0 ? 'best' : ''}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="multigoal-range"&gt;${mg.range}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="multigoal-prob"&gt;${mg.prob.toFixed(0)}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="multigoal-quota"&gt;@${mg.quota}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('') : '&lt;div&gt;N/A&lt;/div&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;⏱️&lt;/div&gt;&lt;span&gt;Gol per Tempo&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.temporalDistribution ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-label"&gt;Over 0.5 1°T&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill cyan" style="width:${d.temporalDistribution.primoTempo.over05}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-value"&gt;${d.temporalDistribution.primoTempo.over05.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-label"&gt;Over 0.5 2°T&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill green" style="width:${d.temporalDistribution.secondoTempo.over05}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-value"&gt;${d.temporalDistribution.secondoTempo.over05.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-label"&gt;Over 1.5 1°T&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill yellow" style="width:${d.temporalDistribution.primoTempo.over15}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-value"&gt;${d.temporalDistribution.primoTempo.over15.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="tempo-highlight"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span&gt;⚡ Tempo con più gol:&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;strong&gt;${d.temporalDistribution.tempoConPiuGol}&lt;/strong&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="tempo-prob"&gt;(${d.temporalDistribution.probTempoConPiuGol.toFixed(0)}%)&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : '&lt;div&gt;N/A&lt;/div&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🏠&lt;/div&gt;&lt;span&gt;MG ${m.home.name.split(' ')[0]}&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.multigoalHome ? d.multigoalHome.map(mg =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-label"&gt;${mg.range} gol&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill cyan" style="width:${mg.prob}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-value"&gt;${mg.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`).join('') : '&lt;div&gt;N/A&lt;/div&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;✈️&lt;/div&gt;&lt;span&gt;MG ${m.away.name.split(' ')[0]}&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.multigoalAway ? d.multigoalAway.map(mg =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prob-row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-label"&gt;${mg.range} gol&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prob-bar-track"&gt;&lt;div class="prob-bar-fill purple" style="width:${mg.prob}%"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="prob-value"&gt;${mg.prob.toFixed(0)}%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`).join('') : '&lt;div&gt;N/A&lt;/div&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;📈&lt;/div&gt;&lt;span&gt;Forma + MG Consigliato&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="form-display"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="form-team"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="form-team-name"&gt;${m.home.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="form-string"&gt;${d.homeForm ? d.homeForm.split('').map(c =&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>c === 'W' ? '&lt;span class="form-w"&gt;V&lt;/span&gt;' :<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>c === 'D' ? '&lt;span class="form-d"&gt;P&lt;/span&gt;' :<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>'&lt;span class="form-l"&gt;S&lt;/span&gt;'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>).join('') : 'N/A'}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="form-team"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="form-team-name"&gt;${m.away.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span class="form-string"&gt;${d.awayForm ? d.awayForm.split('').map(c =&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>c === 'W' ? '&lt;span class="form-w"&gt;V&lt;/span&gt;' :<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>c === 'D' ? '&lt;span class="form-d"&gt;P&lt;/span&gt;' :<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>'&lt;span class="form-l"&gt;S&lt;/span&gt;'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>).join('') : 'N/A'}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- MG PIÙ PROBABILE --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div style="display: flex; gap: 10px; margin-top: 12px;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="mg-best-box" style="flex:1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-best-label"&gt;🏠 MG ${m.home.name.split(' ')[0]}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-best-value"&gt;${d.multigoalHome ? d.multigoalHome.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).range : 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-best-prob"&gt;${d.multigoalHome ? d.multigoalHome.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).prob.toFixed(0) : 0}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="mg-best-box" style="flex:1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-best-label"&gt;✈️ MG ${m.away.name.split(' ')[0]}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-best-value"&gt;${d.multigoalAway ? d.multigoalAway.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).range : 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-best-prob"&gt;${d.multigoalAway ? d.multigoalAway.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).prob.toFixed(0) : 0}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;!-- CLASSIFICA E MOTIVAZIONE --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🏆&lt;/div&gt;&lt;span&gt;Classifica&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.homePosition ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="standings-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="standings-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span style="font-weight:600; font-size:0.85rem;"&gt;${m.home.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="standings-position"&gt;${d.homePosition.position}°&lt;sup&gt;/${d.homePosition.totalTeams}&lt;/sup&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="motivation-badge ${d.homePosition.motivationColor}"&gt;${d.homePosition.motivationText}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="standings-stats"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;📊 ${d.homePosition.points} pt&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;✅ ${d.homePosition.won}V&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;➖ ${d.homePosition.draw}P&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;❌ ${d.homePosition.lost}S&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : '&lt;div class="standings-card"&gt;&lt;span style="color:var(--text-dark)"&gt;Classifica non disponibile&lt;/span&gt;&lt;/div&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.awayPosition ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="standings-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="standings-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span style="font-weight:600; font-size:0.85rem;"&gt;${m.away.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="standings-position"&gt;${d.awayPosition.position}°&lt;sup&gt;/${d.awayPosition.totalTeams}&lt;/sup&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="motivation-badge ${d.awayPosition.motivationColor}"&gt;${d.awayPosition.motivationText}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="standings-stats"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;📊 ${d.awayPosition.points} pt&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;✅ ${d.awayPosition.won}V&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;➖ ${d.awayPosition.draw}P&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;span class="standings-stat"&gt;❌ ${d.awayPosition.lost}S&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;!-- INFORTUNATI --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🏥&lt;/div&gt;&lt;span&gt;Assenze&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="injuries-card" style="margin-bottom: 8px;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="injuries-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span&gt;🏠 ${m.home.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${d.homeInjuries &amp;&amp; d.homeInjuries.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="injuries-list"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>${d.homeInjuries.slice(0, 5).map(inj =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="injury-chip"&gt;❌ ${inj.player}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>${d.homeInjuries.length &gt; 5 ? `&lt;span class="injury-chip"&gt;+${d.homeInjuries.length - 5} altri&lt;/span&gt;` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>` : '&lt;span class="no-injuries"&gt;✅ Rosa completa&lt;/span&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="injuries-card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="injuries-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;span&gt;✈️ ${m.away.name.split(' ')[0]}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${d.awayInjuries &amp;&amp; d.awayInjuries.length &gt; 0 ? `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="injuries-list"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>${d.awayInjuries.slice(0, 5).map(inj =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="injury-chip"&gt;❌ ${inj.player}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>${d.awayInjuries.length &gt; 5 ? `&lt;span class="injury-chip"&gt;+${d.awayInjuries.length - 5} altri&lt;/span&gt;` : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>` : '&lt;span class="no-injuries"&gt;✅ Rosa completa&lt;/span&gt;'}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="analysis-card wide"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-title"&gt;&lt;div class="card-title-icon"&gt;🎲&lt;/div&gt;&lt;span&gt;Risultati Esatti&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="scores-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${d.exactScores.map((s, i) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="score-box ${i === 0 ? 'highlight' : ''}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="score-box-value"&gt;${s.h}-${s.a}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="score-box-prob"&gt;${s.p.toFixed(1)}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;!-- MG CASA / MG OSPITE sotto risultati esatti --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="mg-under-scores"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="mg-box-compact"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-box-label"&gt;🏠 MG ${m.home.name.split(' ')[0]}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-box-value"&gt;${d.multigoalHome ? d.multigoalHome.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).range : 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-box-prob"&gt;${d.multigoalHome ? d.multigoalHome.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).prob.toFixed(0) : 0}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="mg-box-compact"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-box-label"&gt;✈️ MG ${m.away.name.split(' ')[0]}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-box-value"&gt;${d.multigoalAway ? d.multigoalAway.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).range : 'N/A'}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mg-box-prob"&gt;${d.multigoalAway ? d.multigoalAway.reduce((best, mg) =&gt; mg.prob &gt; best.prob ? mg : best, {range:'N/A', prob:0}).prob.toFixed(0) : 0}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="predictions-panel"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="predictions-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="predictions-title"&gt;⚽ PRONOSTICI AI&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="predictions-subtitle"&gt;Clicca per aggiungere alla schedina&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="predictions-legend"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="legend-item"&gt;&lt;span class="legend-dot high"&gt;&lt;/span&gt; Alta (&gt;65%)&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="legend-item"&gt;&lt;span class="legend-dot mid"&gt;&lt;/span&gt; Media (50-65%)&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="legend-item"&gt;&lt;span class="legend-dot low"&gt;&lt;/span&gt; Bassa (&lt;50%)&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="predictions-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>${d.predictions.map(p =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="prediction-card ${isInSlip(m.id, p.market) ? 'selected' : ''}" data-market="${p.market}" data-value="${p.value}" data-prob="${p.prob.toFixed(0)}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prediction-market"&gt;${p.market}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prediction-value"&gt;${p.value}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="prediction-prob ${getProbClass(p.prob)}"&gt;${p.prob.toFixed(0)}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderSlipFloating() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (state.slip.length === 0) return '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="slip-floating"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="slip-count"&gt;🎫 ${state.slip.length} pronostici&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;button class="slip-btn primary" id="viewSlip"&gt;📋 Vedi&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;button class="slip-btn secondary" id="copySlip"&gt;📋 Copia&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;button class="slip-btn danger" id="clearSlip"&gt;🗑️&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function renderSlipModal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const totalProb = state.slip.reduce((acc, s) =&gt; acc * (s.prob / 100), 1) * 100;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="slip-modal" id="slipModal"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="slip-modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="slip-modal-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="slip-modal-title"&gt;🎫 La Tua Schedina&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="slip-modal-close" id="closeSlip"&gt;×&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="slip-modal-body"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>${state.slip.map(s =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="slip-item"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;div class="slip-item-info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="slip-item-match"&gt;${esc(s.matchName)}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="slip-item-bet"&gt;${s.market}: ${s.value}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="slip-item-prob"&gt;${s.prob}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                  </span>&lt;button class="slip-item-remove" data-key="${s.key}"&gt;×&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;div class="slip-total"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="slip-total-label"&gt;Probabilità Combinata&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="slip-total-value"&gt;${totalProb.toFixed(2)}%&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function attachEvents() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// LIVE Tab</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Consigli Tab</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('consigliTab')?.addEventListener('click', toggleConsigliMode);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('refreshLive')?.addEventListener('click', loadLiveMatches);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Date tabs</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelectorAll('.date-tab[data-date]').forEach(tab =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tab.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (state.liveMode) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>state.liveMode = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>stopLiveAutoRefresh();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.consigliMode = false; // Disattiva anche consigli mode</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>loadMatches(parseInt(tab.dataset.date));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// League select</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('leagueSelect')?.addEventListener('change', e =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const id = parseInt(e.target.value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (id) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.selectedLeague = state.leagues.find(l =&gt; l.id === id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>state.view = 'matches';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Back buttons</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('backToLeagues')?.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.view = 'leagues';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.selectedLeague = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('backToMatches')?.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.view = 'matches';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.selectedMatch = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.analysis = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Match items</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelectorAll('.match-item').forEach(el =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>el.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const m = state.matches.find(x =&gt; x.id === parseInt(el.dataset.id));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (m) analyzeMatch(m);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// PICK CARDS nella home - aggiungi alla schedina</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelectorAll('.pick-card').forEach(el =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>el.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const matchId = parseInt(el.dataset.matchid);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const match = state.matches.find(m =&gt; m.id === matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (match) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>addToSlip(match, el.dataset.market, el.dataset.value, parseFloat(el.dataset.prob));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// RADDOPPI COMBINATI - aggiungi tutte le scommesse alla schedina</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelectorAll('.raddoppio-card').forEach(el =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>el.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const idx = parseInt(el.dataset.raddoppio);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const raddoppio = state.dailyPicks.raddoppi[idx];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (raddoppio) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>raddoppio.bets.forEach(b =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>addToSlip(b.match, 'radd_' + b.bet, b.bet, b.prob);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Predictions click to add (nella pagina analisi)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelectorAll('.prediction-card, .combo-card').forEach(el =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>el.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>const m = state.selectedMatch;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (m) addToSlip(m, el.dataset.market, el.dataset.value, parseFloat(el.dataset.prob));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// MONEY MANAGEMENT</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('bankrollInput')?.addEventListener('change', e =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.money.bankroll = parseFloat(e.target.value) || 100;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveMoney();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('targetInput')?.addEventListener('change', e =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.money.target = parseFloat(e.target.value) || 500;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveMoney();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('totalBetsInput')?.addEventListener('change', e =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.money.totalBets = parseInt(e.target.value) || 10;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveMoney();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('oddsInput')?.addEventListener('change', e =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>state.money.currentOdds = parseFloat(e.target.value) || 1.80;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>saveMoney();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// BET RESULT BUTTONS</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('betWin')?.addEventListener('click', () =&gt; recordBetResult(true));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('betLoss')?.addEventListener('click', () =&gt; recordBetResult(false));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('betReset')?.addEventListener('click', resetMoney);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Slip actions</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('openSlip')?.addEventListener('click', () =&gt; { state.slipModal = true; render(); });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('viewSlip')?.addEventListener('click', () =&gt; { state.slipModal = true; render(); });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('closeSlip')?.addEventListener('click', () =&gt; { state.slipModal = false; render(); });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('slipModal')?.addEventListener('click', e =&gt; { if (e.target.id === 'slipModal') { state.slipModal = false; render(); }});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('clearSlip')?.addEventListener('click', clearSlip);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('copySlip')?.addEventListener('click', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const text = state.slip.map(s =&gt; `${s.matchName}: ${s.market} ${s.value} (${s.prob}%)`).join('\n');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>navigator.clipboard.writeText(text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>alert('Schedina copiata!');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Remove from slip</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelectorAll('.slip-item-remove').forEach(btn =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>btn.addEventListener('click', () =&gt; removeFromSlip(btn.dataset.key));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// === INIT ===</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function init() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('🚀 BettingPro v5 starting...');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Check API status FIRST</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>await checkAPIStatus();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>await loadSlipFromFirebase();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Carica pronostici tracciati da Firebase</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>await loadTrackingFromFirebase();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>await loadMatches(0);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// LIVE monitoring disabilitato (sezione LIVE rimossa)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// startLiveBackgroundMonitoring();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// console.log('📡 LIVE background monitoring started');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Controlla risultati dei pronostici pendenti</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>await checkPendingResults();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>console.log('📊 Pending results checked');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>// Controlla risultati ogni 10 minuti</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>setInterval(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>checkPendingResults();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>console.log('🔄 Auto-check pending results');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}, 10 * 60 * 1000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>init();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
</body>
</html>
